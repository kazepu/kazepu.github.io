// copyright arjan westerdiep / www.drububu.com
// for personal non-commercial use only

eval((function(x){var d="";var p=0;while(p<x.length){if(x.charAt(p)!="`")d+=x.charAt(p++);else{var l=x.charCodeAt(p+3)-28;if(l>4)d+=d.substr(d.length-x.charCodeAt(p+1)*96-x.charCodeAt(p+2)+3104-l,l);else d+="`";p+=4}}return d})("var _version = \"24c\";function removeArray(a) {if ` #!while (a.length > 0) {a.pop();}` /%= 0;a = null;}}` i+ObjectProperties(e) {var c, b, d;if ` /!d = ` G\".keys(e)` 6!d) {b = d`!(#;for (c`!1! c < b; c += 1`!t#`\"$!.is`\"+\"e[d[c]]) && ` %#`!p$!==`\"-!`\"T(` G$;} else` l\"typeof` W$ === \"o`!e!\"` l'` k!null` j%`\"I.` n,delete` Z$;}}}}`#*3(f`#$/f) {try`\"D0f)`\"h#f`\"E&`\"=-f`!@&f`$W&`\"H.f`\"C-f`\"+?f);`$d,f);`$CE`\"u#f`\"q' catch (g) {generateErrorMessage(\"`!E\" `!d\" :: something went wrong ( \" + `\"4%+ \" /` .!g` '!)...\");return;`$&(getFormattedNumber`$/%e, d, c;e = f >> 0;c = \"\"`'[\" >= 1000000`'e#(e /` +$` K!) %` +!;`\"^!` F)000 ? d < 10 ? \"00\" :` )#` +\"\" : \"\" : \"\") + d + \".\";}`!0)`!*,` w<` ]S` }#` a8` LJe` ^$`$-\" c;`#}2Memor`,_\"` C#a` p!48576 ? (a`\"T!24).toFixed(2)`%.!kb.\" :` H#73741824` H&` \\!` D-m` O\"` =#` N$` 6-gb.\";}var SHOW_INFO = false, MULTIPLIER_Y = 2048` ()Z = 4194304, BITFIELD_ENCLOSED_VOXELS = 63;`/a!kvxView`*'#, _byteCounter, _globalVoxelColor = (12517376) | 48896 | 191` ;/Shell` 5:pal`)r!= [0, 0, 0, 31, 23, 11,` \"\"5, 7, 75, 75` \"\"251, 251` \"$7, 27` \"\"19, 19,` \"\"1` `\"11` \\\"` c!47, 55`!!\"35, 4` |#23` .\"7` %&0, 79, 59` @\"71, 5` O#63` .\"`!2!`!?+47, 171, 17` *!3, 163, 163, 235, 151, 1` H!31, 1` >!` j!`\"L!` >!35, 2`\"!!` /!23, 2`\"'\"5, 1`!^!03, 107, 10`\"U!9, 99, 9`\"Z!1, 91, 91, 187, 87, 8`!U!9`\"1\"79, 1`#M!1`\"6\"167`\"3\"`!d%5`\"W#155`\"U\"`!o%4`#C#`!q!4`\"f#139`\"x\"`!{\"1`#^#1, 1`$6)19`#Z\"`% \"5`$F'`\"#!`\"|!, 1`\":!`$X#9`%>#`\"+\"` $\"83`$n%9`%u$71` \"$67` \"$`$0,`$@+`$O+`$^+`$m+` %X`%N&`\"W\"9`%P$`&J\"`#V!`\"S!7`%A$47`$h\"2`\"k!39`\"X\"2`#!!31`\"\\\"`%@\"2`\"_#`%3!` {!75`%%#` z!`&f%111`\"v\"`!5\"0`%,#`!5!9`%'$43`#l\"`!J!35`%s\"`%7!2`#q#`\"'!1`%#`%7!07`! \"`!a!5` ~\"` V!`&*#`(w!` m#2`!/#47`%?\"`&-!3`%>\"43`%y#`\"p!`%e!`%j!` %!`(J$` $\"`#B!`#G!`(8\"`#%!`#*!` %!1`(K#` $\"0`#$$`#+\"`(?\"`#-!`#.%`#7!`(K\"3, 183` \"$`(E\"`(K!` %!`#D%`(N%`(W!` $\"`(K\"`(Q!` %!`(K$` $\"`(O\"`(U!`$a!9`$r#` ##1`$s#` $\"`(I!`(N!`(O%`#p!` ##`$g$` $\"`*_&0`%p#`*h%`*a'`*_(`*^(`*]$7`%X#`*g!7`*Y&` #!`$X#55`*W&47`%-\"`*V!`*T'`,Z!`'s*`!b!`'q\"`,T\"`$R$95`%m\"`'T!8`*=#`$$!79`%{\"`,>&`%U!9`,A#`#?$5`.k#`#1!` )$`'s!`,6!`\"h#`!R!` j#27`&l\"6`&[#`&^$`,&$`&]!`+u#`(i!`%R$`!.\"`%Q%`$~!` H!`!T\"`$M%` >&`$G!` >&` q!`![!` C!`$L!`%F!`\"e!`%A%15`\"`#`%D!`\"q$` <%`*3\"`)$#`!6!1`$v#`!4!03`)/&` :$5`*!#`$q!`+6#`)=$`!Y#1`!;#`!o%`\"?!`!9%`!\"\"`*8$`$[$8`#4#`$K!`*\"#`3/$`3&!`!)#`'B\"`,E$`!#!`2'%`\"7!`2&%7`',$`&q#83`+{#`' $9` l\"6`4.#43`%9&`+#!`.J+`3B%87`.$$`#!%9`$R!`'J#`$_\"2`,G#`-N\"`&f!`$V#6`1)\"`&1%`/{~` $63`2K%22`2A&15` \"%0`![\"0`'3#` $#`3!&`&~!` $#5` N%`&Y!` $#` n&`\"M!` $#` n&` m&`!P~` #A`\"^.`\"Z'`\"O'`\"C(`\"q&0` N%`*}!` n~` ##`)(\"`2J!`'&#`*~#`-X#`(3\"`'?!`-b#`2(%`/A!`'?#`\"9#`,3!7`\"0\"`'K!`% #`!)~`/_$`0V!`#r\"`+S!`#g#`-!!4`!G\"`(i!3` 2\"`+#%9`!f\"47`+&\"5` <#19` *&1`$E%`\";#0` V\"` $\"` v#0` r%0`#N\"`'<$`!^[`%Y#` #!`\"4!`&#$`$J!`%z$`/t\"`3%`!6\"`!<\"`!B\"`!H\"`!N\"`!T\"` \"5];function init() {postMessage({event:\"ready\", version:_` \"#});}` X%generateError` Z$a) {a += \" / v\" + ` T$;` u0error\", msg:a` q)storeByt` m\"try {_kvxView.setUint8(_byteCounter, a, true);} catch (b) {`!R1\"something went wrong '`!,%' ( \" + getFormattedNumber`!')) + \"/` 14`!g$byteLength` K!` t#b` '!) )\");}` i( += 1`\"Z,Short`\"e\"his.`\"s' & 255);` '->> 8` 5$` _+In` 1W` )016` \"824`!5/aveData(v) {var P, O, t, F, s, w, r, p, u, i, Q, D, B, A, G, I, q, H, M, c, g, k, m, f, L, R, K, n, l, d, C, j, h, o, E, J;if (SHOW_INFO) {console.log(\" kvx`!Y! data...\");}o = `!r%(b, e, a) {return {x:b, y:k - 1 - a, z:e};};E` L)a` T!b` O&\"\" + (a + e * MULTIPLIER_Y`%]!` &)Z);};F = v.lookup.l`&0!;J = {}`\"1!F <= 0`']5no voxels present\");`!D\";}for (P = 0; P < F; P`&f!) {t = F`\"5#P;h`!9'[t];D = h.x;B` #!y;A` #!z;J[E(`$N#)] = {bitfield:h.` #$`!q\"!(t % 2500)) {`\"1+ = t;}}removeObject(` ;$);`(M)= 0;c`!Y!width + 1;k` +!height` ,!g` ,!dep` :#p = -1;m = c * g * k;n = m * 3 + 500000;s = false;d = [];R ` \"!`%p:> dimension`*R!c`*R!`+.!`*\\!\" + k);}j = [[-`1>#], [`1I#], [0, ` 5!` %#1` -&` 5!` \"&1]];C`&F)T, y, U`(~#W, Y, b, V, X, z, x, S, e;z`#8!if (T =`%~\"z |`,%!` /\">= c -`%J!` 4!2` 3\"y` A)4` -$>= g` B(8` 3\"U` n*6` .$>= `(W!` 2$32;}x`!M!`&r!Y`&q\"Y < 6; Y`&o$b = T + j[Y][0];V = y` ($1];X = U` ($2];W`$Y%if (b >= 0 && b < c && V` *%V < g && X` *%X < k) {S = o(`#=#);e =`* #S.x + S.y`)y.S.z`)|-`'t!J.hasOwnProperty(e)) {W =`2&!;}`\"{!W =` *\") {x`#4! << Y >> 0;}}` .!z`*\"# x;};`3*!K = new ArrayBuffer(n * Int8` /!.BYTES_PER_ELEMENT`30'N) {s`!?$`+82memory alloca`&I!'kvx'`3F(`34.M` P!`!(=`2w\"`.W#`\"*!`3G$`\"/#DataView(K`!1`View`!f/N`!:)`$L!s`3*)Int(0`2I(Int(c`2Z(Int(g` 2,k`%8\"`*}5`,X\":`++\");` /)`,d\"` 6\"g` -+`,o\"` 6\"k);}`!I+ / 2 * 256`%v!`!V- ` \":(`)\\#` 6(`!j9file position`!P\"`/#();}l`-}\"`*@!D`*?\"D < c; D`*=$l[D]` ;'B` @\"B`)[!+ 1; B` >([B` F#}}i`+6&` d3` `-` b'L` T&A` <\"A < k; A` :$r = 15 + i * (84 / Math.max(1, m))`)[\"if (` 4!abs(r - p) >= 1 && typeof r === \"number\") {p = r;post`'1${event:\"progress_saving\", percentage:r / 100});}u`-#%h`,K!`4!$;w = E(h.x, h.y, h.z`$a\"`+z-w)) {h = J[w];Q = `4N&` M!(Q & BITFIELD_ENCLOSED_VOXELS) !==` #7{u`)a$H = 95` m!Q >> 6` U!0) {H =` ,$) - 1;} else` 0%& 63) ` l7 ? _globalVoxelColorShell :` '.;}q = H >> 16 & 255;I` *$8` *#G` ,!` &\"f = 10000000;F = _pallete.length`%y\"P`%y\"P < F; P += 3) {O =`%j\"pow(` Q$[P] - G, 2) +` +0 + 1] - I` &92] - q, 2`$t\"P`3q! || O < f) {f = O`#t!P / 3`0b$`1)\"u && A =`4-# || !` /!L !`$2\"h = {};h.z = A - L`!#!` J+) {R[L] = H;L`(Q!;}h.`'_\"Of`#s!s = L;h.visibility`)-&`#-'L`#1#1) {` @)|= C`'T#h.z + P);}h.lookup`$p!s`+1'` Y5` D([P] = R[P];}`+K#[`+S#`$p#] = h`0)\"u`\"00`&}#`+<\"}i` /#}}d[0]`,&*1`,-#`,c\"`,/%`,O'`,'3F = l[D - 1`!N'`&75` o\"+= 3;` \"!` P'[P]`$$+;}}d`.N\"d` @#;` +!+= i`\"P\"`/6WF =`\"H#`.i,F`\"V'`!($(` F!) * 4`!;%c * (`/v!`1E!` q]`#$,`$&#`#/%`2V*d[P]`27; x offset`!)!P + \"/\" +`\"$%+ \" >`!K%` @!d[P]` 3!/ delta` '*` )&`*\"$? 0 :` ;\"- d[P`$A!));`)z\"`\"-\\`2w3` ^9x` i\"D);}`3)\"`4-<`'^\"`'A#`&mS`'(4`$!:\" + B`$,&`&$#+ \" c`\"b\"` =!A);}`%1!Short(A);A`'{#`\"hx`\"v<`\"}/`!19`&=%`$8$`\"C!y` '\"`\"`! / entries` /\"F`( /`#w(h`!8&[P]`!--w = \"\"`$_\"O` \\\"O < 6; O` Z$w += `/9)>> O & 1 ? \"1\" : \"0\";}}`)0&Byte(h.z);` #-`%.*` ./` ~&)`!F-` O,`!['` W-`07)O])`3&%`$pWM =` &)`'l-256`+v1`!O!_pallete[P * 3] >> 2`\"P-` 7* + 1]` \"C2` A$}P`!W,`!h(`!h!`\"K9`#^\" of bytes`,d\"M - 4));`${'Int` 0#` q,P;try {K = K.slice(0,`#=, catch (N) {s = true;generateErrorMessage(\"slicing 'kvx' failed (`!T!N`(0!)...\");}}removeObject(v);post` _${event:\"progress_saving\", percentage:1}`0I\"!s) {` J0save\", kvx:K}, [K`&6!onm` B\" = func`* !(b) {var g, o, p, m, f, j, h, d, l, n;d = b.data;l = d && d.hasOwnProperty(\"`!9!\") ? d.` '! : undefined;swi`#G!l) {case `!b! data\":_global`(N!`(+! = d.v` &%;` 0-Shel`!G!` ;'` /!;g = false;var c = 1000000;h` F&Data.content.byteL`-6! / (3 * Uint32Array.BYTES_PER_ELEMENT);` Y(`)\" = new ` M!(c);n` *#` ^'(`!(/);p = -1`)`\"m`)`\"!g && m < h; m`)b$o = 5 + m * (15 / Math.max(1, h - 1)) >>`(T#` 8!abs(o - p) >= 1 && typeof o === `(a#\") {p = o`&:No / 100});}f =`!A\" - m;j = f * 3`)\"\"`# .[m] = {bitfield:n[j], x:n[j`+M\"& 65535, y` *&>> 16` 0&z` 3#2` E%}`)k&k) {g`)W:problem initializing `$4#`)v#k`)p)`)2!(f % c)) {if (f == 0)`\"/0`3I# = h;} else` *8+= c` |\"` ^1`!O$= null`&V)` ,+`!#$`#h-` >&`'r0`-<%`$R!`'c>`#[*`-7:` }#`-J+`#O)`$B%}`!s!`(8E`!$?`$r)`!B&view`!,A`4/#!g) {saveData`!A();}break;default:;}};init();"))