// copyright arjan westerdiep / www.drububu.com
// for personal non-commercial use only

eval((function(x){var d="";var p=0;while(p<x.length){if(x.charAt(p)!="`")d+=x.charAt(p++);else{var l=x.charCodeAt(p+3)-28;if(l>4)d+=d.substr(d.length-x.charCodeAt(p+1)*96-x.charCodeAt(p+2)+3104-l,l);else d+="`";p+=4}}return d})("var _version = \"24c\";function removeArray(a) {if ` #!while (a.length > 0) {a.pop();}` /%= 0;a = null;}}` i+ObjectProperties(e) {var c, b, d;if ` /!d = ` G\".keys(e)` 6!d) {b = d`!(#;for (c`!1! c < b; c += 1`!t#`\"$!.is`\"+\"e[d[c]]) && ` %#`!p$!==`\"-!`\"T(` G$;} else` l\"typeof` W$ === \"o`!e!\"` l'` k!null` j%`\"I.` n,delete` Z$;}}}}`#*3(f`#$/f) {try`\"D0f)`\"h#f`\"E&`\"=-f`!@&f`$W&`\"H.f`\"C-f`\"+?f);`$d,f);`$CE`\"u#f`\"q' catch (g) {generateErrorMessage(\"`!E\" `!d\" :: something went wrong ( \" + `\"4%+ \" /` .!g` '!)...\");return;`$&(getFormattedNumber`$/%e, d, c;e = f >> 0;c = \"\"`'[\" >= 1000000`'e#(e /` +$` K!) %` +!;`\"^!` F)000 ? d < 10 ? \"00\" :` )#` +\"\" : \"\" : \"\") + d + \".\";}`!0)`!*,` w<` ]S` }#` a8` LJe` ^$`$-\" c;`#}2Memor`,_\"` C#a` p!48576 ? (a`\"T!24).toFixed(2)`%.!kb.\" :` H#73741824` H&` \\!` D-m` O\"` =#` N$` 6-gb.\";}var Face = (`!t%() {` $%a(b, c) {this.vertices = b;` -!side = c;}`\"5$;})();var PartitioningBlock` k8) {}a.prototype.init = ` B)var b`)h!\"\";`+_!`!?!bitfieldAmbientOcclu`0o#new Uint32`+W\"32768)`!u\"lookupIndexVertex` 66`*<%c`/r#\"alloca`!U!b`\"6!failed`)#c`)m\"\"`\"m%b;};`\"2(nullify`\"1,`!n=ull`!b7`-f!` {)get` W,B` x#`!/)`$~#`!g#`!*9[b] >> c & 3` +init`!H\"Pos`%5!` x)`0@\"e, d`\"+<[c] |= b << e`\":3[d]`.!}`)9$`&C3`%xYf`\"r\"`&K*his.multiplierY = 1 + (f + 1 >> 5`&:#` :&Z =`#O\"` K(* (` S!c` N&` R#n`/A!OfL`\"O!`(V!s` L2` x,`# (` O%[]` %.`3y$` o#` ~0`(o/s`(0/`!!`!]6/ 3`/L#`(\\'d`(S0` {%`(^)`/<!`(O8getM`\"X%V`,<!al`(i,`'M(`#7'` O8Dep`\"{!` E?Z`)xBvar c,`&\"#`#]6for (c`'W! c < b; `1d!1) {if (typeof` [\"`$g([c] !== \"undefined\"`) $` 8+`!Y$();}` R1`+D$`(h0VERSION = \"1.0a\", NUMBER_OF_VOXELS_PER_CYCLE = 25000, FLAG_PROFILING = false, STATE` R\"IZER_ID` Q!0, MULTIPLIER_Y = 2048` ()Z = 4194304, BITFIELD_ENCLOSED`!D# = 63` t.GENER` *%_MESH = 1, BYTE`!z\"VERTEX = 3 * Floa`'i$.` :&ELEMENT` K(COLOR = 4 *`(A!8` =3`#F!globalN`%>#Voxels`\"W\"` 4\"Obj` ,%null` 0$Buff`'d$esView` ,1Color` %5Ind` G3FlagInitialData`$C&` 9\"`!N!` w! = (16711680) | 65280 | 255` ;.Shell` 59state`\"T(ProgressPrev = -1` 0%`/R*`!q(` /(`*f.` (:`*N!`!A#Obj = {};`)z%generateErrorMessage(a`)N#a === void 0) {a`0E\"}a += \" / v\" + _version;post` Z${event:\"error\", msg:a});}`!0%`)g#G`!u!Dat`1s!var a;`$4%;if (`%g+`!T#` '+.hasOwnProperty(\"v`3J!`%O\"\") &&`&N,.` 6(`\"H$) {console.log(\" delete ` @(`/<#`!1-` 8(.byteL`1G\"/ 1048576).toFixed(2)`/{!mb. )\");}` #` V8;}`\"2@color`\"98` 6'`\"4<` @'`\";4` 8'`!lb` f'`\"+Bind`$h:` 6'`\"1<` @'`\"94` 8'`!kb` f';}}removeObject`'g-`(Q'update`(=0switch (`*I!) {case`0%@:`\"e1` a!:`\"f!` k\";}`+($`!P!Mesh();break;default` AE`-Q$`2y0;}`\"C&` /`\"R\"K, ad, ae, G, s, v, ar, am, F, at, m, ao, U, w, H, an, al, Y, W, T, N, I, L, ab, h, P, g, Z, R, D, X, V, M, c, af, Q, S, aq, A, ak, u, n, B, k, ai, ah, l =`1\\2, r, t` /+`2E(, O, o`3A!f = this.`/]@` M!C` .@`0(!` J!ap = [[[133955584, 7077888, 4194304, 2621440, 267264, 528896, 2098688, 2360320, 79052` ,!59808, 786944], ` w(14155776` y'8912` o!1065984, 542720, 8391680, 9438208, 1589248` -!9232, 1574912` w,13246` N!` %` \"#0, 8585216, 33701`\"M!671907`\"`!55630`!(!00679`!<!75628544` 0!794368`!#+566231` }', 35651` 8!2195456, 16846848, 33591296, 503357` w!893990` $\"07136, 52428800]], [[76695844, 945561` n!384`#'!065` K\"3` _!47206`\"J!91392`#;(5244928, 996147`#9*` z&18468` y%2080, 104` '!6`$L!5`#\"!60` -!8, 38, 205`%1!` ]'47`\":\"` c\"131`#$!656`%2!31`$(!65`%r!6582` ?\"34`#I!` =\"456` g*756`!~#`\"Z$51`$G\"42008576, 713687`$'!787`&p#143424`$p!`% &9051`#1!`%\"$`#j\"511, 5`!v!, 34, 17412`\"u!34, `%+\"`\"[\"1639`\"c!`#&\"`\"^\"` [!27` Z\"10, 5121, 4610, 1`&*#33, 4099, 521, 515` Q&`$|\", `%G!98312, 36992, 69`#:!656`'b!288, 32840, 32960` \\%4`(C!` d!0, 196`%P\"2176`$7!`(L\"676`#p*60`#y!`\"c\"1917396`!v\"7`!k!`&G!`%L\"1, 53` &!`\"!`\"-!529, `#:!`\"*\"` X&236`&{#` `!2097664, 4457`&h!4719`#U!2622464`+['44569`&K!883`,O\"`+]&` y%18911`*z!` |#129`'}!357171` %!77815`! !10370`)Y!`)7%2100`#L\"`)8$`)c!6441`&b!`!!&36936`! $32`,v!65672` \"!`%r!29`$Q!2`*S!`$H#20`$B!84`*2#1176703`*M!042995` \\!53`,A!587` L!2097` n#5655`'i!632422`!f*`+F(`+8,, `!!(10085`\"N\"`!%%685`\"t!71319552`,n!594`%T!2713`/ !`(^&`-Q3`(l#`!!,9`'7#`!(\"131`\"5!131`$2!16` X\"6`,g!`*]$`&v#`&j(` h*984`(&\"`!}\"`0j\"3279`!x!`1*!`%I\"`(=%`(=,`$ \"838599, 1539, 1024, 51`,\"!13, 4106, ` !`'Z!`)k'11`!N!` Y$307`+S!`$4!05`\"5!4`+(!641`%;!`'u\"`.9#`+0&3`0s\"`!?&75`&<!`!E#26`#@\"2584`(#!8929280, 5259`4<#`-P$`2|-`/h#` u)7879`!A!` z#4`'h!6291` 2!4460`$.!262`#X\"79052` 5!`)C$35`.4#`)E\"]];var d = [new Face([4, 5, 1, 0], 5), ` 1&5, 6, 2, 1], 1` .)6, 7, 3, 2], 4` .)7, 4, 0, 3], 0` .)0`!$!2` 5\"3` F,6`!E!4], 2)`!e\"E = 6` %!p = [0` r!1` x!` &\"` )\"` ,\"` 2\"` &%0` ]\"q = [`!2#3`#\\!`!8%`!G$], [2`\"(!0`\"|#J` J'`%z\"` s\"` Y#`#&#` :#` #$0` 7&0` B&`!E!` 8%` y$ac = (function () {` $%a(i, e, b) {this.xPosi` 6!= i;` .!y` ('e` -\"z` ('b` -\"indexBlock = 0` .\"ambientOcclus` H\"0;}return a;})()`!\\\"a =`$:!ac(`!u#` 2#g = [];for (a` Z\" an < 8` #!+= 1) {ag[an]` Q/}K = false;M = 150 / Math.max(1, globalObjVoxels.maximumDimen`!m!/ 2);g = 0.5 *` ?-voxelSize * M;O =` 1-content;o` )/`\"p,Data;P`%K!- g, g, g`$l#g,` *#` #'` ?!` +!` F$` #+` /$` L$` ?$` #)` @0` -#];Z = - (`\"G2`%.!M`#,\"Horizontal)`\"f!X` 1DVertic` O$V` /DDepth` N\"af`%S!S = -1;do {B`#Y/` X!` '!;k =`%>#in(` 8,numberOf` )\", B + NUMBER_OF_VOXELS_PER_CYCLE)`&u\"n = B; !K && n < k; `&u%w = O[n * 3];af` 2!;if `!*-`&#&< 0.9999 ||`&87>= 1 && (w >> d[` :,face].side & 1) == 0) {H = w == BITFIELD_ENCLOSED`\"8# ? 0 : o[n]`!c!` z!6 !` Y#ak =` -$) - 1;ad = ak & 255;ae` (\">> 8` ,#G` )%16` ,#} else {` {\"`!37) {` {!`\"8\"`\"6!ColorShell`!'(` +2`!7+` ,5`!H-`! 1` t8` k<` x*}L = `%P!;am`%]!L + 1] & 65535;F` )(` S$` 5\"at` 3%2` G&`$3!ad << 16 | ae << 8 | G;m = Z + am`(M\"o = X + F` *!U = V + at` 8\"b`(l!R`(r!aq = null;A`({\"`.Z.4`.`(L =`&R5v`*G!es[an];ag[L]`1#)m + P[L][0` 6$`1/(ao` 7$1` 7$`1;(U` 6$2];Y = am + J` g#W = F` ($1];T = at` )$2];Q = (Y >> 5) + (W` $#* f + (T` &%C`(-!Q != S) {S = Q` .!typeof `2S!`\"X\"Part`!Y!ing.lookup`2{!s[Q] === \"undefined\"`3w$` 6@`2A!` 7(` 7!;h =` vD.init()`!s!h != \"\") {K = true;generateErrorMessage(h);}}}if`%6\"`*d\"A`\"Y!`)~(`\"t!A` 4#-1` /)` R\"3 && A != -`4V!q`!MF;}}}r` $G`%_\"`/t!` 0!`!i!` *'VertexSet`!f\"Y &= 31;W ` \"\"T` )#` G' = Y`%Y\"<<`%c#T`)+!0)` @#ambientOcclus`&t\"0;N`&5%4`&7#<< 1` U&6);I` =\"& 15)` 9!;D = r.getA` d+Bitfield(N, I`$_\"`0'9`0d#&& D !`$S\"R |= D - 1 << an`!c6` @!`.`I` w!` W=` f*H & (ap`+!2[0][0] | H & ` ,5an][1])) {c =` *9`,z\"c.length`,i#l = 2; al < ab` $!`,j#if (`!\\!c[al])`)u!` $#`\"#Ebreak;}`(Z#`$%E`) #r`)k!`'(\"`-*$(N, (R >> an &`&'\"1, I, `'$'`)n!ar = p[R]`\"D\"s`/3\"s < 2; s`\">$` 7!v` 6\"v < 3; v` 4$u = q[ar * 2 + s][v];aa = ag[`/K=u]]`&!aa`)&,`*\\$u = ` --`%S)`\"o?`$C#aq) {r = aq` Y%`*kE`!=$` *!];}ah`)?!` >\"I`!U&` @%]`(9!`!3!`.#!-1 && !((ak`4J%254) == l[ah * 4] && ` :#8` ;!5` 3) + 1` ;%` *12`'b!`!X!-1;}`\"?$` (%`!D(`#W$h`\"e%try` E#`#F,numberOfUniqueV`$Z# * 3;t[ah]`$A\"`&Z%` 0!`!h\"` 4!`4D%` 1$2` 2#`4>%;` iJ4;l`!/$d - ad % 2 | `'r!u & 1` <!`!:%e` '$`!4!G` &$3]`'R!} catch (aj) {`2/1\"color initialisation webgl views failed ( \" + aj + \" )...\");}u`!sE;`'z.= u`/\"D`*m!`&X8= u + 1;}`#CC+`.j!` G#BufferIndicesView`*/-` ^$` =#`!+!;` &;` }#` .4Polygon` ?$`\"BC9) {O[n * 3]`.`%`+x4side`#]!` I%`1i:if (n !`$Y6` )\" -`-^!ai = `'A;` G&;O[ai`!># O`*3\"3]` -%`'I$` 2$` +!` 2(`'[!` 3'2];o[ai] = o[ah]`#O6`!<$=`,P#k >`!Q<) {k`!u=;}n` k&` ~;!= 0`-a\"` *;% 200000))`,O#` @,content`!K/` 3#.slice(0,`#u<* 3)`*s+h = \"slicing `&Y! data`*[$\"`\"F!typeof` n, === \"undefined\" ||` .1null`!%!+= \" (` 3-not present )\"`/9%` G%0 -`,$!getFormattedN`\"4!`#;<* 3 * Uint32Array.BYTES_PER_ELEMENT)`,x!/`,~(/`-E#\" + VERSION` 0$orker`!G\"`)i,ersion`-e\"\";}`.E1h);K = true`*Y\"!K) {O`$`6` ;'`%F1ambientOcclusionData` [/` 30`%MD`%T9` r# o` r$`%q(`$z~`%Z>`#u~`$^5o`#bC;}}}}}}` T!`,#B`+j0face < E)`%S.` 6!`1.!` *,`48\"`*P!= 0` .-`3x\"Face`29#Offsets`1'1 -`/I\"`2d;;}`$<$`!09n;}} while`\"16 &&`,q<>`.^\"af < NUMBER_OF`2W#`*a!CYCLE)`'$!!K && `#_?`!$0`!O!==`#{!if (FLAG_PROFILING) {console.timeEnd(\"`&h!\");` 1$log(\"done`&S1`#s4.toString())`2^.`*h3null`$|-`0|&` :!this.` >\"Partitioning.nullify()` *4` Y$`\"I9`\"H! -`)L\"Buffers -------------------` \", `#!, `$5\" of`1w\"s        `/|R`0(\"` d\"` p7polygon`!%$` \\KP` W#`!'\"` d$` t7uniqueVertices` _LU` P*- 1`2H(` ](Memory` AD* `3C&VERTEX)`!i6i`'0\"`#fS`'m#`!AS` W# *`+9.isWebGL32Bits` A#Supported ? Uint32Array.`\"D&ELEMENT :` ;!16` )3)))`0)\"`#*C!`+_6Allocated` E$) {try`-s.vertex`(l\"`.Z/` 3(.slice(0,` }5`$o>;} catch (aj) {`2i1\"slicing '`!2(' failed`3~B)...\");state = STATE`/A\"IZER_IDLE;removeObject`#c,`4,1`#,1color`#'5` 3'`\"bYCOLOR`\"oK`!1'`\";~`#%4}`#5&`'>8`)+$`'/@`*4%`#{2ind`'67` 3'`#o>`)g~`*Q4`$\\J`\"*'`$\\J ( finalize data )`$Oj`%3%h =`0iV`/B!/`/TK`-//`4F!`(v$& `(;!s`0,/`0RG` }U`1U)`2E$\";`#,!`.g9||`.g:byteLength === 0`%e5invalid`.7+/`+)*`& \"h + (typeof`! 9`!-!\"undefined\"`!M<` K!null ? \"null\" :`4%@`\":3)`#H\"`'C+`'J\"} else`+\"`#P-`+'(`!`/`+((`#-N`)P)`#.>`,R)`#->` ?,`\"{O`\")2`#%D`1fC<`\"gA` G2' (`)\"!` dB`,ZR`!o@`0'$`!^J` O#`!f;` t$`!@Zpost`!B${event:\"` f\"data\", b`%\"!`#$$:`(]8` E$C`-b!` :-`*|'` B$`!}#` :-`&6', lookupFace` 74` 1-Offsets, `#%$`!g5`%=2` O&` {4` 1+, isWebGL32Bits` /#Supported`\"/.` 28, isInitialModel` W#Flag` 0#Data}, [`#p:`#d9`#X7]);}}}}}nullifyG` E!Data();state = STATE_VOXELIZER_IDLE;}`-g)K)`('2face != this.` 7\"ProgressPrev)`&_2request update\", p` M#:(85 +` p3* 3 >> 0)) / 100});`! 3 =`\"b-face`(,9`!E+}`#3!if (K) {`\"kOfunction init(i, p, b) {var g, m, l, h, c, f, d, q, o, k, n`\"1\"lkpA0 = [];if (FLAG_PROFILING) {console.time(`*B\"_init\");`$y1`\"c+ = {}` u!!i || !i.hasOwnProperty(\"content\")`,v5no voxe`+[\" present`,/\"return;`#>!`2F#i.` k#`2'0` /*null` }5`!.!`!-!'` M#' `.R#`!.*h =` n&`4Q(/ (3 * Uint32Array.BYTES_PER_ELEMENT)`#Y:log(\"`/$#webworker entries`/8!`3q(N`+^!(h`3Q\"/` /-`46#`!Y0` M\"bytes \")`#K\"h`1(:`$/$s`#}2c`\"r!` =!Size`%J,`-G%`%`%0;k = new`#&((64);for (m` >! m < 64; m += 1) {k[m] = !(m & 1) ? 1 : 0;` 3!+` 1$2)` \"34` :48` :416` \"43` {'}q`!k!o`!q!n`\"&/`#}%`\"..h`\"4'l = n[m * 3] & 63`%l!c >= 0.999) {q += k[l] * 4;o` #'6`,$%` ?!2` 7#36;`+p\"q`$`>`29#`$n2`/2'o` J=i`1o\"` T2`!J!`'bA`'^3q`'<\"`!h$\");` 2Go` W\"`![#\");}`&m=h;try {`3 .`+X#`$t8} catch (j`\"w5alloca`/V!`+u&failed (`\"\"!j + \")`#@\"`0)9`#[$`![1ambientOcclusionData`!j/p`!DM` r# o` r$`!?\\`!j,scale`+_!` %!`+O-`+q% = c` --maximumDimension` d!` %,` ^2sHorizontal`,y&` *'` E-indexM` v\"` M+width` 49V`'L!` H#height` 39Dept`1L\"dep` h0sWebGL32BitsI`'k\"Supported = b`.p5Unique`!J\"e`/+\"` 34` q#` '9A`%g\"ed` g'q` ,>` q&o` 45Polygon`!*2ver`%(%` %#`#;2` '!` N1face` $1lookupFace`!`#Offsets = [0, 0, 0, 0, 0]` T#ProgressPrev = -1;g = false;this.` @#artitioning`)W#` '(;d = ` 83.init(`&MB, `&F@)`1=!d != \"\"`*T4d`)u=moveObjec`!M-)`\"`!true;}`!3Multiplier`(5'`\"J4get` >.()`#I4` B&`(d$` TA` H!(`\"w\"`1k:\\n-`1H#optimize ----------` \"#\");`2n!`'+/texBuffer) {delete`$F-` :(;}f =` 1-`),6* BYTES_PER_VERTEX`242` x(`&m#`0G!` ,\"(f`0C+post`%U${event:\"use_placeholder\"}`%.cif (!g) {`\" VCOLOR`\"C2color`!V~`\"%O`\"O&`%g0`*'!`%Z<` :'`&K2`0A;=`!F\"`#TD`/F$* Uint32`#E!.`#}&ELEMENT;} else` @Q16` ]4if (f > 65000`#I~`$=*`$B&`&01`#}'`%C~`%nS`!n'`!R\"`(b$View`!o#Floa`$p$`,O:`\"$*`0`1\"a`$}\"ion '`!!4' failed ( \" + j + \" )...\"`!_~Color`\"S'Uint8`\"F2`+;'`\"$S`!$%`\"=1/` '!getFormattedMemor`!,9.byteLength)`\"<w`*zY`#c-` F#`#g+`&;4`-9(`%vX`!+'`#AZ`!F'`#n-( 32 bits )`#=j`.'#`#%C`-{#`\"J~`\"Nz16`\"Wq`'S!FLAG_PROFILING) {console.timeEnd(\"webgl_init\");` 2(` 4#\")`3j\"`(=!`!B4GENER` *%_MESH;update();}}onm`#f\" = func`#f!(c) {var b, a;b = c.data;a = b && b.hasOwnProperty(\"`0^!\") ? b.` '! : \"-\";swi`$!a) {case \"voxel data\":`# \"`\"~!`,7! = b.` <!` *!;` 0,Shell` 6+` /!` C#FlagInitialDat`!j!`!Y-f` 6*`!m#` '+ : false;init(b`\"Z!, b.ambientOcclusionD` 1#`+p9);break;`\"Z\"`#x\"\":`#}%` 0)`3t+:nullifyG`\":!Data();`45C` r\"default:`(k2unknown command:`(S!a);}}` q1ready\", version:_` \"#});"))