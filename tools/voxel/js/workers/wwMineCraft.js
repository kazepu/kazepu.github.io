// copyright arjan westerdiep / www.drububu.com
// for personal non-commercial use only

eval((function(x){var d="";var p=0;while(p<x.length){if(x.charAt(p)!="`")d+=x.charAt(p++);else{var l=x.charCodeAt(p+3)-28;if(l>4)d+=d.substr(d.length-x.charCodeAt(p+1)*96-x.charCodeAt(p+2)+3104-l,l);else d+="`";p+=4}}return d})("var _version = \"24c\";function removeArray(a) {if ` #!while (a.length > 0) {a.pop();}` /%= 0;a = null;}}` i+ObjectProperties(e) {var c, b, d;if ` /!d = ` G\".keys(e)` 6!d) {b = d`!(#;for (c`!1! c < b; c += 1`!t#`\"$!.is`\"+\"e[d[c]]) && ` %#`!p$!==`\"-!`\"T(` G$;} else` l\"typeof` W$ === \"o`!e!\"` l'` k!null` j%`\"I.` n,delete` Z$;}}}}`#*3(f`#$/f) {try`\"D0f)`\"h#f`\"E&`\"=-f`!@&f`$W&`\"H.f`\"C-f`\"+?f);`$d,f);`$CE`\"u#f`\"q' catch (g) {generateErrorMessage(\"`!E\" `!d\" :: something went wrong ( \" + `\"4%+ \" /` .!g` '!)...\");return;`$&(getFormattedNumber`$/%e, d, c;e = f >> 0;c = \"\"`'[\" >= 1000000`'e#(e /` +$` K!) %` +!;`\"^!` F)000 ? d < 10 ? \"00\" :` )#` +\"\" : \"\" : \"\") + d + \".\";}`!0)`!*,` w<` ]S` }#` a8` LJe` ^$`$-\" c;`#}2Memor`,_\"` C#a` p!48576 ? (a`\"T!24).toFixed(2)`%.!kb.\" :` H#73741824` H&` \\!` D-m` O\"` =#` N$` 6-gb.\";}var SHOW_INFO = false, DEFAULT_COLOR_RED = 192` ),GREEN` %2BLUE` 2$MAXIMUM_NUMBER_OF` >\"S = 256, BITFIELD_ENCLOSED_VOXELS = (64) - 1;`0G\"oxelData, _fileName, _n`'o!OfPolygons` ('Color` %(VisibleFaces, _lookupVerti` %(Ind` )#globalVoxel` g! = (12517376) | 48896 | 191` ;/Shell` 87`\"2!` E!Redu`%v!GridEntrie = (`&(%() {` $%a(`.I#) {this.xIndex = c;` +!y` ($b` *\"z` ($d` *\"i`\":\" = []` ,\"neighbour` .#}`'#$;})()`!U/Nod`!E9`!S$red`.%!` (!green` %&blue` $&counter` '&weight` +!`!.=`!'@flagUseGrid`'c$`!#\"`%/\"Pallette`1,$` 0'DepthPer`\"N#` 5&dict` i#` #.` V7Nod`#z!` #1MinimumC`\"e'}a.prototype.init = `\"B)`$_\"ullify();};` E(` 1#` D,`4Q$`!;\"`\"_;`\"T+`%p$`#*-` 1$`\"R/{}`\"O0[]`1G!` H)) {b`46+` 2*`4'@` E)[c]`#g$}}`$K,{}` X-a.TREE_DEPTH` d,`\"_.` x\"0;}`#j*setMaximum`41\"`,($`#|)n`$##B, w, q, o, m, D, l, k, r, f`4a!v, C, j, g, s, h, p, c, u, t, E, b`#D!a.FLAG_DEBUG) {console.log(\"`!85\" + n)`43\"` Z#PROFILE` X'time` J6\");}n = Math.min(n, `$,`$P#);E =` ,-;t = new`+V/`\"4!E` W# > n) {r = ` +$;g`#z!do {v = E[g]`+G$;f` )$`+I\";C = -1`%+\"B`%+\"B < r; B`$~$w = r - 1 - (B + g) % r`!A!C == -1 || E[w` ~% < E[C` &%) {C = w`#L\"` :+`*1;` j,=`\"y.` C+&&` L\"`-j#+ 5 > f) {g`!?!`\"m\"` h&`\"l#` H%`\"3!v` f>) {break;}`\"1!B =`# #`!##C`,H>`$-)}}u` ,#;j = g - 1`!G!g === 0) {` 2\"+ 1;} else {` :\"<`!4!2 &&`&J\"abs(E[` E!`#/&- u`$&&<` ;*-` 14`!'*}t`1|!+= u.red;t`1|#` ,!` &!;t`2!\"` -!blue;t` o%` /!`\"F$t`2%'.21 * ` u# 0.72` *!` u# 0.07` ,!` i#` P%` \"%/ ` |&>> 0;t.isMerg`3i!true`'W&g`'Z#`#Z!`'[&E[B]`#z!B`#1!;}r -=`#d!while (r`)$!;`).%= n;}`)))`/i5`(a8`%.\"B];h `#O# /`\"}& << 0;p` 6!`\"i\"` ,-c` 8!`#p!` +-`!?/`\"A\"{red:h, ` o!:p, blue:c}`16\"ypeof u`#9'== \"undefined\" ||` .,null`0u,`!*%h | p << 8 | c << 16] = B`*j\"n > 256` W$`3l*`$X!s = 256 / a.GRID_ENTRIES;q = h / s | 0;o = p` %%m = c` %%j = q + o *` V+ + m` #.` 6,;try`))\"`\"x#`3B*j]`\"q0` /1`\"w0` 7!`/[/GridEntrie(q`(%!5, o`(.!5, m` #\")`%!\"` `'.m`+c\"G`%m!= p` //`1n\"` 8&}` 2-indices.push(B)`%V!p`/($` v4`\"&/`!<.`%1!p >` X/`!L'` V1`!f-} catch (A) {generateErrorMessage(\"color r`#L$ :: problem ( \" + A + \" )...\");}`/I\"`&[,)`%7\"Object.keys` =\"`!V$)`*o%`/%\"`!\"Eno e`$}!s `!:#`+*!d in`\"r*) {b `1N#`\"k%d`0G\"parseInt(d, 10)`(3!j %`'4,o = (j`(V-`-o!)` =.m` G$(`'~;)` J4`-*,27`-0'w = (`.J!3) % 27;D = w % 3`.x!l = (w / 3` v%` 3\"k` 1$9` *+if `(C!D >= 0 &&`*N!D <`\"A,&&`(b!l` ?%` (\"` 40m + k` ?%` (\"` 8,`2#`!'\"+ (` i!)`+V0(` \\!` (/`+_-`+R5\"\" + j] !`+b*) {b.neighbour`)p#` F\"`'P!`'Q\"a.FLAG_DEBUG) {console.log(\"`+m+ quatizing (\" + n`(A!`'<\") \")`*!\"` j#PROFILE` h'timeEnd(\"setM`)q\"NumberOf`!#!s`)'!;a.prototype.get`3.'fun`!B\"() {var c, b, d;`'}%`2,*`3$d`3j'c`&U\"c < b; c`&R$d[c] = [`2l0c].red,` n0[c]`4 \"` %5blue];}return d;`\"2*process`\"Z!`\"4)u, k`\">#t, m, n, r, f, g, w, h, l`\"X!c, p, j, d, v, o, q`4F) != \"o`,?!\"`-!K`!P&`,0!t an ` d\"`,0#if (isNaN(k)` PH`/-# n`%9! of`%~\"s is`!\"\"` 3#`! #w = a.TREE_DEPTH`,g!`2h.Node`$~)t`%%\"t < w; t`%!&t] = {};}j` =!` 18if (k < Math.pow(8, t)`*7#t;break;`(\\)`'f.`(f!di`!`!aryIndexM`2\\\"`1(!j);`(7((\"pre`#y\"`\"q#\");}try {`';#in u) {p`/[(c);g` $(u[c]);v`\"1!h = p & 255`-~!p >> 8` *#b` )$16` +#r` P!do {o =`\"T\"max(0, 7 - v);f = b >> o & 1;f += (h` (%) <<` .%l` )*2` y!r * 8 + f`'&!v >= j`#f#`'1#d[v][r] =`,b-`(}'DepthPerNode[v]`$O!;` Q%`%K4}q =` x$;q.red += h * g;q`*(\" += l` *#blue += b` )#counter += g`)$\"`!76>= k && v + 1 < w ` \"'`'G(`\"V#`%e:`(O$tree depth detected`&#!(` u!)`(K#` (!;}}v`\"q\"} while (v < w);}} catch (s`)b5`*W)(` !s`/n!) `)T#n = O`*m\"keys(d[w - 1]);m = n`.Y$`\"x'Nodes`$6#Array(m)`)1-m`)7'`$H\"` q\"[n[t]];q.weigh` L!.21 * `$`# 0.72` *!`$`# 0.07` ,!blue` M(` \"%/ `$j&>> 0`!\\-`+)\"q`-)\"m > k`46!MAXIMUM_PERCENTAGE_OVERSHOOT` d!`$OA>`#Q!m`#Q!above`$d\"k * 1.1` b\");}`!O!`-!eL`!P&(k` 3$`!d'`+S#C`\",#= -1`$(!` 8,`$4$`#`8`'P+` k1= -1 ||` o-[t]`#O%<` --` X*`*)*`!q2` e7`.=@`\"H3`#t!entries ( array ) \"`.e*End`.`2`4`*`$0- = fun`2R\"(b`4i#k`4_!l, i`4S!e`4h!c, f, d`/?!`$24c = g - (b`&:C`,:!`&B:-`44\"`!h)`*D\"b`*D\"------------` \"%`\"t'` a!`#:#ToRem`'<$c);}e`16%0`0P!{}`&I\"k`&I\"k < g; k`41%`$s0k]`.@\"`02\"f[d`%.$`0)0` 1*`-2!else` *+`-K\"}l`,N+f);j`!e\"`!U+l`#z$`!a&if (j + f[l[k]`/e!c) {e = l[k];break;}j +=` <$;}`\"@?`(~0[k`(`&== e) {i`\"t2`,m#`##*i`\"s2i`\"q,i`\"p%`\"f0g =`\"^&`\"q2`!x,`\"m/h`\"c9`'a8i` r=`%b8`%4% > e || ` '&== e && d`0)$>= h`!{#k != i`,+/`#8\"` z0}i`#>$`+Z4= i`)6?` F#of`,-#\" +`\"d4 + \"/`)i&( =`0_\"`,{5- b) / b).toFixed(2)`*H\"`,b.getBitmapDataPallette`,k)`,p#f`,`!h`,x!b`,r!d`,M!256;e = new ArrayBuffer(1024);d` 3#Uint32` ;!(e)`%\"\"f`%\"\"f < c; f`&/(f`0e*`!P$`\":#`&B#` ./[f].re`.6-` 3(green;b` '6blue`(N%`,v\"g`!e!b` '!}d[f] = h | g << 8 | b << 16 | -16777216;}return e;`#d*initEmptyGridCell`#a)e`#\\!i`#n#j`0U$l, d, k`#v!f;k = 1000000`!Q\"[]`#M\"c in`\"2\"dictGrid) {f`\"D$` ,$[c`(P\"f.indic`%o&!= 0`)##Math.sqrt(` %!pow(f.xIndex - e, `&.!` 1'y` 4$g` *.z` 4$i, 2)`1r\"d < k) {k = d;b.push([c, d]);}}}`*S!`!3/1` o,1`! ,` ,!) * 1.05`1Y!b`+^$l = e + g`3]!GRID_ENTRIES + i` #.` 6,;`#:*l]`'X#ColorRedu`$a!GridE`3.!(e + 0.5, g ` \"#i` #\"`'}#`.D\" j < h; `-j!`'|$b[j][1] <=`##!`!*,.neighbours`#6\"` K!0`#8!`0}%` 93`,B$`%)\"generateErrorMessage(\"color r`\",$ :: no content found ...`+@.proccess`\"\\&s`'U)j, o, d`'[#w, F, D, n`'`!k, E, q, C, s, i, p, v`(/!t, f, u, B`+y!r`(6!A`(9!m`0Z!j | o`)J$d`)L\"`2(`\"e)`*I%i] !`3.,`)s#` 94;}u`-3\" /`%P,n`!C!/ u`&F!o` %!`']!` %!f = (n | 0) + (l` $\"`&X/(k` $3`&`-`\"(4`,@!=`\"),` >!`+p-`!M\", `!K!, `!6\";}c`+'-f]`#d!-1;q = c`&!.;s`,/'000;t`,?'000;E`0K#w = false`(!\"F`(!\"!w && F < q; F`(%$m`,N.`!/'[F]`,h\"o >= m.minimumGreen && o < m.max` ,&||`+'\"abs(o -` F+) <= E` 10` Y'` ?\") {g`-V2m`-d$`*H! - n`,6,m`-j$` :$l` 0.`-q#` :$k`-t&g < s` E$`!6!3`-*$) {A = m`/U$;C = A`$9$`#j!D`#i\"D < C; D`#a$v`2^3A[D]];e = v`39\" - o`!B!`\"y%e) <`\"k!B` A!red - j;r` )!blue - d`.g!` 7\"+ j;p = ((512 + h) * B * B >> 8) + 4 * e *`/+!((767 -` A\"r * r` A\"`!@!i == -1 || p < t) {i = A[D]`&[!p`&Q!`!_(`04#if (p`->$w = true;break;}s`$c2`!y\"/ u`$`0`\"w$` 9\"`$`-` P(`$e#`%h3` >(`%}+)` w:`&)+` ;/` m)`&6(` G!`#M\"s`2!<` 1!`\"p'}}}}}}}`-X#i;`/k*get`2^!ed`2j!`/h)b, d,`2#!var j`/F!g`/7!o`/s!m`/g!h`0\"!e`,o\"his.flagUseGrid`)%#` 2!`0p/` y%`(8#`%N!`1nKmatching ` 9\"`26* else`!>\"b`0x$8 | k`0aDg`0v/`\")%` ;/;`!+$f`)A2`**$g`*(!m`.4!5`*:\"j`*:\"j < f; j`*8$l`*)3j]`)U!l`*4%d`*/*h`-)!m`(q#l`*7#b`2H!l`*6$k`*|!` 7\"+ b;o`*3'`).!i * i`*1)h * h`*3'` B!n * n`*3'j`)\\! ||`/E!c`#.#j;c = o`\"R!`!\\(`*3#`&{(g`'\"!FLAG_DEBUG`11%` .#PROFILE` ,'TREE_DEPTH = 8;`3t+= 10;a.MAXIMUM_PERCENTAGE_OVERSHOOT =`!A\"`!;#a;})();var _`&6!`(B!`&T!= new `(K!` ,%;`(N%init() {post`'4${event:\"ready\", version:_` \"#});}` X%`'i1a) {a += \" / v\" + ` T$;` u0error\", msg:a` q)processStringManipulation`!*!(b`*G#a`$c!` @\"(b).toLowerCase().indexOf(\"memory\") !`)t$a = \"out of ` 7#`(,%a = ` j%;}`*12s` <! m`!P' went wrong( \" + a + \" )`*@#`\"3%nullify() {_`(I\"Vertices = [];` .#I`3^\"` -#voxelData =` \\!`#~(reedyMeshing(N, w, aw, ar`-J&r, aq, X`-J!au, al, U, S, Q, G`-d!ai, B, K, aa, ae`.\"!P, ap, I, t, k, ad, Y, M, T, aj, av, L, D`.>!p, J, ah, R`.Q!o, ab, b`.p!ag`.#!q, E, ak, C, s, ao, at, F, A, Z, af, H;`/`!`(Q!if (r) {console.log(\"-`\"I* --------` \"\"\");` F$time(\"` @)\");}var v = 2048, an = 64, W = 32`.F(N`%p!\"object\" || N =`#~\"`/k5`$C&is not an ` [\" `%T\"` s%+`(D\"0.1`%`$`*3\"`&d%`!?'w`!D\"boolean`/_!`!)1winding`!3% ` K#`!.*w` vBisNaN(aw)` v5numberOf`'=$PerPolygon`!8&` >\"`!3*a`!5)`!\"=N.`#Q!Size`!26` >! size` ~:` b'`\"L7}}}Z = `) %`,z!`.R#(a >> 6) - 1;};af` <)e, aA, ay`,@$, az, ax;a = e / a`1D!0;az = aA` &(x = ay` ''`/d$ + az * W + ax` $!* W;};H`!X*, ax, e`!c&\"\" + (a % an).to`,w#16) + \"|` 8\"x` \"9e` +/;};try {ak`,?\"f`,F\"ai =`#V(;l = -1;F` 9\"if (ai >= 0.999) {aq = 0;X` R!`-7\".length;do`%>\"(` 1$[aq].bitfield & 63) ==` \"!{` 8(` a'[X - 1];X -= 1`&2%b = af` k*x,` L&aq].y,` \"*z)`*o(F[b] === \"undefined\") {` 1\" {};}ab = H` SMF[b][a` a!aq;aq +`!t!G = Math.pow(aq * (1 / X), 0.4);G = 25 + G * 10`%w\"if (` P!abs(G - l) >= 1 &&`(&$G`!\"`(C\"\") {l = G`4=1progress_saving\", percentage:G / 100});}} while (aq < X);`$j+ = X`3g&`%\":`#G~`#Zk`#F~`#Nv}} catch (am`..5preprocessing`3z+problem`.I#am`/W*`.3'if (r) {`4A$log`0e$ of `+:!s after cleaning` o!getFormattedN` K!`$O%`%p#`,S!` Z$\");}A = [[-0.5 * ai, 0.5 * ai, ` \"$], [0.5 * ai, ` 8.` 2*` X/], ` v(` z/` 3+` 9/`!-4` *3` {0`!-6` 9&]`/1#t = new Uint32Array(v * (v >> 5));`%*@`%2*alloca`1E!'gridData' failed`%3'`!<!K =`!#% + (!(v % 32) ? 0 : 1);K *= v;for`&!= 0; `''!K` #!+= 1) {at`/m#0`&{B`!e*initializ`!U>var O = (`3e&) {` $%a(x, y, z`3y&this.surface = x;` ,!horizontal = y` .\"vertic` -!z` ,\"wid`-f!a` N$eight = e;}`!L\" a;})();var V`$g#O(0, 0, 0, 0, 0` 7\"c`!Y8e`!p!x`!f$`!P)e`!L-`!h#`),\"Index`\"3!`!?/ac`.9\"var u`)>!0, 1, 2`!U!2, 3`'K!` &!1` /!3, 2` -#` B\"` :$3` ?\"]];D`04/`&)!X = D`%d\"k = X - 1; k >`%p!k -`%f\"`.q)(` A! - k)`.r13`.$65`.%~`.m6if (`1S&k].bitfield & 63) != 63 || ai <= 0.999) {q`# '` J(;ad = Z(q);ag = \"\" +` <)x + \"|` &,y ` \"0z;aa` y+x & 2047;ae` ++y` 2$g` *+z` 1$`$[!m`*C\"`\"!O&& m < 6; m`*u$if (!(q >> m & 1)`\"w.ak`&## = 1;`'/$ak = [k];swi`+M!m) {case 0:` \"!1:I = g;t = ae;break;` 5!2` ;\"3` <!aa` =!g` :#default` /(` T%}ac[ag]`*##c(I, t, k);i`\"m!M = ` <\"`)Z';T = M;aj` 3&`)f$;av = aj`'2!ai >`\"I%do {L = ak[0];U`$\"(L].x;S` #+y;Q` #+z`.b/4`.i(`\"|6`,o!a;p = S +` ^\"= 0 ? 1 : ` (\"2 ? -1 : 0);J = Q` ?&1` <)3` >'I = J`#M!p`#y1h = U` n@p`$/\"` lIh`!4!J`!-(4`!3\"5` kJ`\"i'` x6J`&-!`!.&`\"I$`&6$`+/\"h`-9! && h < v && p` *%p` +$J` *%J < v) {d`*n$h`*K%p`*U%J;b = af(h, p, J);ab = H` &&`.k!if (`-L#F[b][ab]`-J,ah =` 4%`' !` J#`&@%ah] !== \"undefined\" &&` 3)) {R`&p(ah`,'Y`-$!R)` q(ac[d`!D#` h*!(R`*{'&& Y` A!ad) {` N#`)K)ah` r\"I < M) {M = I`#s\"I > T) {T` )&t < aj) {`)e!t` -$> av) {`)e!t;}ak[i] = ah;i`(e!;}}}} ca`(g!am) {}}` V!`**!`,X![0` M!k[i - 1];}i`2H!;} while` F!= 0);}`,m\"];C = Object.keys(ac`+]\"C`3J$s = T - M + 1;ao = av - aj` ,!K = (s >> 5) + (!(s % 32) ? 0 : 1)`*k/i`*r(U`,H\"C[aq]`,b( - M`+y!` 3&`,f$`!:!`,e\"`(_#||`(q!S < au) {au`)!#S;al = aq;}at[S * K + (U`!l\"] |= 1 << (U & 31);ak[aq]`)8!* v + U`$:\"au`!$\"&& al !=`#l\"u`-q%`#r'al` *!al` +!u;}do {V.surface`\"c!j = false;E` +!do {`0\"!k[E] % v | 0`0,\"` -!/` +#B = t`!}$I`!\"`\"d!!(at[B] &`\"(#I`\")\")`%Q\"E`%I*`%M%else {o`2H!` r%`$K\"U = I`$~! U < s; U`3<(at[B`#<)`!1$`#A#) {o`'/#` #`21#`#G\"o - 1 - t >= `\"q&/ o >`'G\"if (o >` 3&)`#6*o;V`%a(= I;V`%W&= t;V.wid`4e!` G!eight`\"E!if (` a&>= s * ao) {`)K!rue;}}`\"`!S` K! !j &&`&7\"o - t; S`\"d$B = (t + S)`#.*0`#2\"o`#)+`$B\"`$X\"+ `#--` /\"`$R%o = U`/I#`#4\"(S + 1) * `\"a8` ;'`\"OT` ]!`\"eB`!S!`\"t\"`!S\"<`!L)`!w$}E`,_$`,&$`#R\"E < i`'@\"`! '`%@!P = `!X$- (1 - ai);ap` 3!`!e#` .'swi`-Y!m) {`3l!0`3r\"1:`+a!a + A[m`3q$7 : 6][0]`+b!`\"l'+`,x\"` 9.1];Q`!5\"`#I&+`-V!` :.2];f`*m\"[U, S, Q];f[1` (% + ap` /#2` %- + P];f[3` U(` .#`--(aw == 4 ? 4 : 6)`.4(if (w && m != 1 || !` &&0) {L = u[` Z&2 : 0][aq]`)t%` 3,3 : 1` <#ar(f[L][0], ` $!1]` \"#2], m, ad);}`%@\"`$)!2`$/\"3`$0!`#262`#E#4`$:%ae` )1`$-%`$J3` @'`#u<`#_\"ap`$*' + P` ++`$.#` 0&`#V[3`$&+2`#3~`$$-4`$/\"5`#v;4`#E#3`(6>` @'`$;#g` (1`'vO`#s#` .(`#Dl4`$%+5`#2~`$((default:;`1?&0;`1>!`-0$`15,`#{)`173`.%#`1I'`1F$`%#+`1P%-=`1S#` 0-`1`!;}}`/E&`/1) && i`/B!;try {`!F!var n in ac`#H#ac[n].lookupIndex;U = N` +#[L].x`&A!` &(y`&(!` &(z;b = af(`%z#);ab = H` &&if (typeof F[b][ab] === \"number\"`!H#` 4$` K!!(` x(bitfield >> m & 1)) {` ,1|`#-#m`\"x\"ca`1O!am) {generateErrorMessage(\"greedyMeshing update problem ( \" + am + \" / v0.1 )\");return` ~!`\"V#`!D%k].x,`\"w&k].y,` \")z`\"x%` 'Iif (` E)`\"J%& 63) == 63 &&`#>%) {delete`#O&}D`&/!`#Z#D % 500000`#B(.length = D` C!r) {console.log(\"reduce ` @#` O\"`#\"!getFormattedN`$u!(D)`#5!entries \"`'-#`#fL`#s8`$#)`!a,timeEnd` a+\");}X = F`\"E#`,:/X`,-,!`'8&aq`'8#undefined\" ||` .'null)` Q#`#/,Object.keys(` M!)`#i$`\"y,remove` J\"` D#;}` (*`$L$);}function preprocessColors(D, h, t, q, k`!O#k`!c!void 0) {k = 65536;}var i, B, p`-R!l, n, o, g, A, w, j, f, E, s, d, r, v, u, C = {}, c;c = `!G%(e) {var y, x, a;y = (e & 255) >>`)j\"1;x` 2\">> 8` +.a` 4%16` ,.`%9\" y | x << 8 | a` 6!6;};var b = [124, 68, 68, 56, 0, ` /!80, 80, 44` -#0, 4, 4` 8#` >%4, 84, 40` T#0, 4` E!` a!` e%` &=` G\"56`!D&68` \"-`!U(6` U$64, 6` q#6, 16, , 0];i = false;p = D`'L)B`'R\"!i && B < p; B`'T$E = D[B`+E&`*P!E >> 6 !==`%[!s = c(` /#) - 1)`3l%s = E`+w#? t : h`)B\"!C.hasOwnProperty(s)) {C[s] = 1` X%` ,!+` -!}o = `(6(C`(6$`!Q!o <`'=!`\"+\"r = []`\"K!` =2w = -1`2W'd in C) {A = 10 + B * (15 / p`&+!0`!#!Math.abs(A - w) >`#%\"w = A;post`,?${event:\"progress_saving\", percentage:A / 100});}s = parseInt(d);r[B] = [s`'M\", s`'t'` '#`'h$];C[d] = B;`$W\";`-&z) {i = true;`-{2`-{$adding color component`.3\"z`+!) ...`.+%`,h!;}`$E$q.nullify();`$!\"`#_=`\"`M0.125});q.`,]((C, k)` 9Q` g\"setMaximum`1W\"Of`-Z#k)`&'!q.getPallette()`!~7`\"S\"`%|3(`&#-`4V\"`&!0 && `0p#A`0m\"n`!V!\"`%Yq`%y#`\"C!R`4`!d`#T\"`&;@)`&M%`%7(}g = 256`+\\)B < 8`+X'`\"U%pow(2, B) * ` \"+> r`#W#) {g =` 1+;break;}}p = g * g * 4 * Uint8ClampedArray.BYTES_PER_ELEMENT`*[\"v = new ` @!Buffer(p);`(7Halloca`20!'b` ]!' failed`(>0`!1!u`!/#DataView(v` YVcontext`!v\"`!2$`!&/`$&!l`$%\"l < g; l`$#$` 7!m` 6\"m` 6\"m` 4$j = l`#V!+ m << 2;u.set`#^!(j + 3,`%D\"}}n`'x&`%*'g`%.#6) {n = (B / 6` f!`(#\" % b`1N)`!43E = b[n]` ?\"`\"!'8`\"!'`1_%8 - l &`!|%(g + B) %`\"&!l - 2`)=!j >= 0 && j < g` G#j` C!* g`\"M\"j += m` /!`\"R-`\"X#`\"g+1`\"o#` (+2` 82`#:&}n`(k\"if (n >=`\"r%`3[!`#;#n + 1`#+)}`'\"`(G$`#t-p`)/'j =`2>!4`!x+r[B][0]`!w0` 6!1` ).2` 4#2` ).`\"*%p = D`!D0!i &&`!M-E = D[B].bitfield`\"f!`$n!6 !== 0) {s = c(` /#)`\"v!;`1E$s = E == 63 ? t : h;}f = C[s]` h!`.6#f`.7\"undefined\") {`({2invalid texture data `2x\"s`2x\"`),\"`)o%`!D$`!|)`\"), & 63 | f + 1 << 6;}}`)n#i ?`)t! : v;}func`*J!pre`2W#Data() {var i, g, d, c, h, f, j, e`!I!false;h = {};f ` \"!_`0i\"`2B$`$(!` +%Polygon` '+VisibleFace` 3#lookupVerti` .\"[]` -$Ind` *&j = `!v%(a, o, l, k, n`!w#b, m;m = a + \"|\" + o ` \"$l` +%n;b = h[m`$W)b`$Q/b = `!Q+`&W$` ',push([`!M%n]);h[m] = b;}`%_([n]` w/` 1\" n`#B-`2n\"`\"b*`!&#b, k]);};c = _voxelData.` F\"`(;)g`(B\"g < c; g`/\")d` 6\"d < 6; d`-3(!(` f-[g`&L'>> d`-S\"||`!6(` %!Size <` g!`%(2`\"5\"}}e =`&d'`\"R\"`!'., _globalVoxel` A!, ` \"-Shell, _colorRedu`%j!, (25`*6$`\"4!e`)I5problem`2M(;}greedyMeshing`!Q',`)`!, 4,`&m*m`&s!b, l) {j` #+;})`(`$`$U!`$n*`&8$`(T/c / 4`$d)`-3\"`$k(3`$T#` h*[g] =` {,[g + 1]`$W!` 'C2` 91` a\"` ?/]`#M5equal i`\"M#`-%*break;}}post` I${event:\"`-q#\", buffer:e}, [e])`,p'save`,p!D, i`\"h#i`)/!void`/q!i`#:!}var j, E, J, t, I, F, r`* !f`-@!x`-I!g, n, s`*5!q, C, z, A, L`$p$B, y, K, w, p, b`,G\"`-m!B`)O*width + 1;y` +*height` 5!K` ,*dep` L#w = Math.max(B,` \"&y, K))` ;!w > 512 ? 1024 :` ,!256 ?` 2!` *\"128 ?` 1!` *\"64 ?` 0!` )\"32 ? 6` U$16 ? 32 : 16;L = (w - B) / 2`.J!0;k` .$K` 0\"z = 16 / w`.G![];var h = 100000` *!H = new Array(h);A` g!H[A] = \" {\\n  \\`%+$s\\\":` -\"` *&\\\": \\\"\" + _fileName + \"\\\"\\n  },` Z\"element` [![\\n\";A`+t\"t`)#5E`$T%F = -1`)-\"J`),#j && J < t; J += 4) {I = 60 + J * (39 /`$3&1, t`+v!) >> 0`+|!` 8!abs(I - F) >= 1 && `0?#I`0=\"`*^\"\") {F = I;`'~0progress_saving\", percentage:I / 100});}f`\">-[J][0];g = (L +`2:,[f][0]) * z;n = (m` .21` =#s = (k` .22` =#`!10`+R![0];l`!&?q`!&?C`!&?if (E) {`&E$,`%N'}`&Y% `&J# \\\"from\\\" : [ \" + g.toFixed(4) + \",` 1!n.` \"0s` '+ ]`&u!`'C!o\\\"  ` m%l` K1q` a1C` \\6fac`(F%`\"-%`1 '`\"h%`%<0][3];o`1'#i`',\"r` *!% i;d = \"`!g\"r`!B1o`!X1(r + 1)` &2o` (0 ]\"`$@!`-='` %!Size < 1`$Q' `\"P\"down`$=!{ \\\"uv\\\":` z!d`!$\"`+%+#` %%`+!#` ^!up`$(#` )Vnorth`#w!` *Usou` #\\west`\"-[ea` ,S `(_( else {switch (`&?.1]) {case 0:x`$c'`!IU\";break;` o!1` g)`!ZU` g)2` g)`%}U` g)3` g)`&.U` g)4` g)`&?U` g)5` g)`&PU` l$default:`.J%x`4Z!`.U2 }`&w!}` 4%if (A > h || J >=`3b!5) {try {H`4h# = A;b.push(new Blob([H.join(\"\")], {type:`!k!/plain\"}));} ca`'1!G) {j = true;processStringManipulationError(G);}A = 0;}E` K$}if (!j`,H'\\n  ]\\n }`\"A'` s~`!Q@postMessage({event:\"progress_saving\", percentage:1})`$%!`\";!p = ` N$save\", fileName:_` \"$, numberOfPolygons:_` \",` :&Color` 7'` *\"` 6&VisibleFace` ;'` *(, data:b};`\"1(p);}}onm` )\" = function (b) {var g, o, p, m, f, j, h, d, l, n`2e!b.data;l = d && d.hasOwnProperty(\"`\"g!\") ? d.` '! : undefined;`-O$l`-<$\"nullify\":` \"#()`)3(`(j$\":saveData(d`!>!, d.size` @*save`\"W!\":`3=& = d`3E\"Data;_globalVoxel`#V!` 6&` *!` /.Shel`\"M!` ;'` /!;g = false;var c = 1000000;h`!(*.content.byteL`'k\"/ (3 * Uint32Array.BYTES_PER_ELEMENT);` Y(`0f\" = new ` M!(c);n` *#` ^'(`!(/);p = -1;for (m`'x! !g && m < h; m`)R!) {o = 5 + m * (5 / Math.max(1, h - 1)) >> 0`(#!` 8!abs(o - p) >= 1 && typeof o === \"`'\"\"\"`(L#o`&m)`(rAo / 100});}f =`!A\" - m;j = f * 3`+K\"`\".[m] = {bitfield:n[j], x:n[j + 1] & 65535, y` *&>> 16` 0&z` 3#2` E%}`+p&k) {g`+r$generate`+d!`\":$\"problem initializing `$3# (`0a!k + \" )...\")`-{#(f % c)) {if (f == 0)`\"/0`-{&h;} else` *8+= c;}`\"}-`!G$`'$2slice(0,`#f\"`&w>`\"p*`\"`1slicing '` }#' failed`\"]0`#W%`!r\"`'LE`!$?`$')`!B&view`!,A}`$G\"g) {`/j%`-G6` :$\")`(:'d.` O&== \"s`1s!\"`.!!` 2$.replace(/[^\\x20-\\x7E]/g, \"\") : \"object\";pre`2X#`-l!);}`-^\"default:;}};init();"))