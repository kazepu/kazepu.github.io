// copyright arjan westerdiep / www.drububu.com
// for personal non-commercial use only

eval((function(x){var d="";var p=0;while(p<x.length){if(x.charAt(p)!="`")d+=x.charAt(p++);else{var l=x.charCodeAt(p+3)-28;if(l>4)d+=d.substr(d.length-x.charCodeAt(p+1)*96-x.charCodeAt(p+2)+3104-l,l);else d+="`";p+=4}}return d})("var _version = \"24c\";function removeArray(a) {if ` #!while (a.length > 0) {a.pop();}` /%= 0;a = null;}}` i+ObjectProperties(e) {var c, b, d;if ` /!d = ` G\".keys(e)` 6!d) {b = d`!(#;for (c`!1! c < b; c += 1`!t#`\"$!.is`\"+\"e[d[c]]) && ` %#`!p$!==`\"-!`\"T(` G$;} else` l\"typeof` W$ === \"o`!e!\"` l'` k!null` j%`\"I.` n,delete` Z$;}}}}`#*3(f`#$/f) {try`\"D0f)`\"h#f`\"E&`\"=-f`!@&f`$W&`\"H.f`\"C-f`\"+?f);`$d,f);`$CE`\"u#f`\"q' catch (g) {generateErrorMessage(\"`!E\" `!d\" :: something went wrong ( \" + `\"4%+ \" /` .!g` '!)...\");return;`$&(getFormattedNumber`$/%e, d, c;e = f >> 0;c = \"\"`'[\" >= 1000000`'e#(e /` +$` K!) %` +!;`\"^!` F)000 ? d < 10 ? \"00\" :` )#` +\"\" : \"\" : \"\") + d + \".\";}`!0)`!*,` w<` ]S` }#` a8` LJe` ^$`$-\" c;`#}2Memor`,_\"` C#a` p!48576 ? (a`\"T!24).toFixed(2)`%.!kb.\" :` H#73741824` H&` \\!` D-m` O\"` =#` N$` 6-gb.\";}var SHOW_INFO = false, MULTIPLIER_Y = 2048, v` +'Z = 4194304, BITFIELD_ENCLOSED_VOXELS = 63, MAX_OBJECT_SIZE = 126;`/y!colorRedu`#0\"`)v\", _globalId = -1` '%DataViewSizeInBytes` A'Import`'X!` -%Maximum`(/\"OfColors = 255` ;%` 5$PalletteEntries = 0` J:Prev`!S*Voxel` 8! = (12517376) | 48896 | 19` :0Shell` 87`#(!` E!`##%Grid`!d\" = (`&O%() {` $%a(`.p#) {this.xIndex = c;` +!y` ($b` *\"z` ($d` *\"indic`\"f![]` ,\"neighbou`#A![];}`'J$;})()`!U/Nod`!E9`!S$red`.L!` (!green` %&blue` $&counter` '&weight` +!`!.=`!'@flagUseGrid`(*$`!#\"lookup`%`$`1S$` 0'DepthPer`\"N#` 5&dict` i#` #.` V7Nod`#z!` #1MinimumC`\"e'}a.prototype.init = `\"B)`$_\"ullify();};` E(` 1#` D,var c,`%\\$`\"_;`\"T+`%p$`#*-` 1$`\"R/{}`\"O0[]`1n!` H)) {b`4]+` 2*.length;for (c`\"~! c < b; `/v!1`\"k$` J$[c]`#g$}}`$K,{}` X-a.TREE_DEPTH` d,`\"_.` x\"0;}`#j*set`,14`#&n`$##B, w, q, o, m, D, l, k, r, f, d, v, C, j, g, s, h, p, c, u, t, E, b`#D!a.FLAG_DEBUG) {console.log(\"`!85\" + n)`4Z\"` Z#PROFILE` X'time` J6\");}n = Math.min(n, `$,`$P#);E =` ,-;t = new`+V/`\"4!E` W# > n) {r = ` +$;g`#z!do {v = E[g]`+G$;f` )$`+I\";C`/V!`%+\"B`%+\"B < r; B`$~$w = r - 1 - (B + g) % r`!A!C == -1 || E[w` ~% < E[C` &%) {C = w`#L\"` :+`*1;` j,=`\"y.` C+&&` L\"`-j#+ 5 > f) {g`!?!`\"m\"` h&`\"l#` H%`\"3!v` f>) {break;}`\"1!B =`# #`!##C`,H>`$-)}}u` ,#;j = g - 1`!G!g === 0) {` 2\"+ 1;} else {` :\"<`!4!2 &&`&J\"abs(E[` E!`#/&- u`$&&<` ;*-` 14`!'*}t`1|!+= u.red;t`1|#` ,!` &!;t`2!\"` -!blue;t` o%` /!`\"F$t`2%'.21 * ` u# 0.72` *!` u# 0.07` ,!` i#` P%` \"%/ ` |&>> 0;t.isMerg`3i!true`'W&g`'Z#`#Z!`'[&E[B]`#z!B`#1!;}r -=`#d!while (r`)$!;`).%= n;}`)))`/i5`(a8`%.\"B];h `#O# /`\"}& << 0;p` 6!`\"i\"` ,-c` 8!`#p!` +-`!?/`\"A\"{red:h, ` o!:p, blue:c}`16\"ypeof u`#9'== \"undefined\" ||` .,null`0u,`!*%h | p << 8 | c << 16] = B`*j\"n > 256` W$`3l*`$X!s = 256 / a.GRID_ENTRIES;q = h / s | 0;o = p` %%m = c` %%j = q + o *` V+ + m` #.` 6,;try`))\"`\"x#`3B*j]`\"q0` /1`\"w0` 7!`/[/GridEntrie(q`(%!5, o`(.!5, m` #\")`%!\"` `'.m`+c\"G`%m!= p` //`1n\"` 8&}` 2-indices.push(B)`%V!p`/($` v4`\"&/`!<.`%1!p >` X/`!L'` V1`!f-} catch (A) {generateErrorMessage(\"color r`#L$ :: problem ( \" + A + \" )...\");}`/I\"`&[,)`%7\"Object.keys` =\"`!V$)`*o%`/%\"`!\"Eno e`$}!s `!:#`+*!d in`\"r*) {b `1N#`\"k%d`0G\"parseInt(d, 10)`(3!j %`'4,o = (j`(V-`-o!)` =.m` G$(`'~;)` J4`-*,27`-0'w = (`.J!3) % 27;D = w % 3`.x!l = (w / 3` v%` 3\"k` 1$9` *+if `(C!D >= 0 &&`*N!D <`\"A,&&`(b!l` ?%` (\"` 40m + k` ?%` (\"` 8,`2#`!'\"+ (` i!)`+V0(` \\!` (/`+_-`+R5\"\" + j] !`+b*) {b.neighbour`)p#` F\"`'P!`'Q\"a.FLAG_DEBUG) {console.log(\"`+m+ quatizing (\" + n`(A!`'<\") \")`*!\"` j#PROFILE` h'timeEnd(\"setM`)q\"NumberOf`!#!s`)'!;a.prototype.get`3.'fun`!B\"() {var c, b, d;`'}%`2,*`3$d`3j'c`&U\"c < b; c`&R$d[c] = [`2l0c].red,` n0[c]`4 \"` %5blue];}return d;`\"2*process`\"Z!`\"4)u, k`\">#t, m, n, r, f, g, w, h, l`\"X!c, p, j, d, v, o, q`4F) != \"o`,?!\"`-!K`!P&`,0!t an ` d\"`,0#if (isNaN(k)` PH`/-# n`%9! of`%~\"s is`!\"\"` 3#`! #w = a.TREE_DEPTH`,g!`2h.Node`$~)t`%%\"t < w; t`%!&t] = {};}j` =!` 18if (k < Math.pow(8, t)`*7#t;break;`(\\)`'f.`(f!di`!`!aryIndexM`2\\\"`1(!j);`(7((\"pre`#y\"`\"q#\");}try {`';#in u) {p`/[(c);g` $(u[c]);v`\"1!h = p & 255`-~!p >> 8` *#b` )$16` +#r` P!do {o =`\"T\"max(0, 7 - v);f = b >> o & 1;f += (h` (%) <<` .%l` )*2` y!r * 8 + f`'&!v >= j`#f#`'1#d[v][r] =`,b-`(}'DepthPerNode[v]`$O!;` Q%`%K4}q =` x$;q.red += h * g;q`*(\" += l` *#blue += b` )#counter += g`)$\"`!76>= k && v + 1 < w ` \"'`'G(`\"V#`%e:`(O$tree depth detected`&#!(` u!)`(K#` (!;}}v`\"q\"} while (v < w);}} catch (s`)b5`*W)(` !s`/n!) `)T#n = O`*m\"keys(d[w - 1]);m = n`.Y$`\"x'Nodes`$6#Array(m)`)1-m`)7'`$H\"` q\"[n[t]];q.weigh` L!.21 * `$`# 0.72` *!`$`# 0.07` ,!blue` M(` \"%/ `$j&>> 0`!\\-`+)\"q`-)\"m > k`46!MAXIMUM_PERCENTAGE_OVERSHOOT` d!`$OA>`#Q!m`#Q!above`$d\"k * 1.1` b\");}`!O!`-!eL`!P&(k` 3$`!d'`+S#C`\",#= -1`$(!` 8,`$4$`#`8`'P+` k1= -1 ||` o-[t]`#O%<` --` X*`*)*`!q2` e7`.=@`\"H3`#t!entries ( array ) \"`.e*End`.`2`4`*`$0- = fun`2R\"(b`4i#k`4_!l, i`4S!e`4h!c, f, d`/?!`$24c = g - (b`&:C`,:!`&B:-`44\"`!h)`*D\"b`*D\"------------` \"%`\"t'` a!`#:#ToRem`'<$c);}e`16%0`0P!{}`&I\"k`&I\"k < g; k`41%`$s0k]`.@\"`02\"f[d`%.$`0)0` 1*`-2!else` *+`-K\"}l`,N+f);j`!e\"`!U+l`#z$`!a&if (j + f[l[k]`/e!c) {e = l[k];break;}j +=` <$;}`\"@?`(~0[k`(`&== e) {i`\"t2`,m#`##*i`\"s2i`\"q,i`\"p%`\"f0g =`\"^&`\"q2`!x,`\"m/h`\"c9`'a8i` r=`%b8`%4% > e || ` '&== e && d`0)$>= h`!{#k != i`,+/`#8\"` z0}i`#>$`+Z4= i`)6?` F#of`,-#\" +`\"d4 + \"/`)i&( =`0_\"`,{5- b) / b).toFixed(2)`*H\"`,b.getBitmapDataPallette`,k)`,p#f`,`!h`,x!b`,r!d`,M!256;e = new ArrayBuffer(1024);d` 3#Uint32` ;!(e)`%\"\"f`%\"\"f < c; f`&/(f`0e*`!P$`\":#`&B#` ./[f].re`.6-` 3(green;b` '6blue`(N%`,v\"g`!e!b` '!}d[f] = h | g << 8 | b << 16 | -16777216;}return e;`#d*initEmptyGridCell`#a)e`#\\!i`#n#j`0U$l, d, k`#v!f;k = 1000000`!Q\"[]`#M\"c in`\"2\"dictGrid) {f`\"D$` ,$[c`(P\"f.indic`%o&!= 0`)##Math.sqrt(` %!pow(f.xIndex - e, `&.!` 1'y` 4$g` *.z` 4$i, 2)`1r\"d < k) {k = d;b.push([c, d]);}}}`*S!`!3/1` o,1`! ,` ,!) * 1.05`1Y!b`+^$l = e + g`3]!GRID_ENTRIES + i` #.` 6,;`#:*l]`'X#ColorRedu`$a!GridE`3.!(e + 0.5, g ` \"#i` #\"`'}#`.D\" j < h; `-j!`'|$b[j][1] <=`##!`!*,.neighbours`#6\"` K!0`#8!`0}%` 93`,B$`%)\"generateErrorMessage(\"color r`\",$ :: no content found ...`+@.proccess`\"\\&s`'U)j, o, d`'[#w, F, D, n`'`!k, E, q, C, s, i, p, v`(/!t, f, u, B`+y!r`(6!A`(9!m`0Z!j | o`)J$d`)L\"`2(`\"e)`*I%i] !`3.,`)s#` 94;}u`-3\" /`%P,n`!C!/ u`&F!o` %!`']!` %!f = (n | 0) + (l` $\"`&X/(k` $3`&`-`\"(4`,@!=`\"),` >!`+p-`!M\", `!K!, `!6\";}c`+'-f]`#d!-1;q = c`&!.;s`,/'000;t`,?'000;E`0K#w = false`(!\"F`(!\"!w && F < q; F`(%$m`,N.`!/'[F]`,h\"o >= m.minimumGreen && o < m.max` ,&||`+'\"abs(o -` F+) <= E` 10` Y'` ?\") {g`-V2m`-d$`*H! - n`,6,m`-j$` :$l` 0.`-q#` :$k`-t&g < s` E$`!6!3`-*$) {A = m`/U$;C = A`$9$`#j!D`#i\"D < C; D`#a$v`2^3A[D]];e = v`39\" - o`!B!`\"y%e) <`\"k!B` A!red - j;r` )!blue - d`.g!` 7\"+ j;p = ((512 + h) * B * B >> 8) + 4 * e *`/+!((767 -` A\"r * r` A\"`!@!i == -1 || p < t) {i = A[D]`&[!p`&Q!`!_(`04#if (p`->$w = true;break;}s`$c2`!y\"/ u`$`0`\"w$` 9\"`$`-` P(`$e#`%h3` >(`%}+)` w:`&)+` ;/` m)`&6(` G!`#M\"s`2!<` 1!`\"p'}}}}}}}`-X#i;`/k*get`2^!ed`2j!`/h)b, d,`2#!var j`/F!g`/7!o`/s!m`/g!h`0\"!e`,o\"his.flagUseGrid`)%#` 2!`0p/` y%`(8#`%N!`1nKmatching ` 9\"`26* else`!>\"b`0x$8 | k`0aDg`0v/`\")%` ;/;`!+$f`)A2`**$g`*(!m`.4!5`*:\"j`*:\"j < f; j`*8$l`*)3j]`)U!l`*4%d`*/*h`-)!m`(q#l`*7#b`2H!l`*6$k`*|!` 7\"+ b;o`*3'`).!i * i`*1)h * h`*3'` B!n * n`*3'j`)\\! ||`/E!c`#.#j;c = o`\"R!`!\\(`*3#`&{(g`'\"!FLAG_DEBUG`11%` .#PROFILE` ,'TREE_DEPTH = 8;`3t+= 10;a.MAXIMUM_PERCENTAGE_OVERSHOOT =`!A\"`!;#a;})();_`&2!`(>!`&P!= new `(G!` ,%;`(J%init() {_globalId`3t!, post`'@${event:\"ready\", version:_` \"#});}` h%`'u1a, b) {if (b === void`-K!b`*L%a += \" / v\" + ` t$;`!50error\", msg:a, flagBeacon:b`!=+tRgb`+w!(g`*h!b`*t#c, e, d;d`'>!`'I!c`'H\"c < 8; c`'F$e`)E!>> c & 1;e += (g` (%)`)S!` 0#f` )*2;d |= e << c * 3;`%e$d`!Z'read(s`!Q#P`,E!r, aq, ap, Z`,S!ak, B, Y, D, a`\"%\"u`,s!g`,g!J, N, L, p, q, al, R, j, ah, t, au, X, W, U, an, H, ac, af, F, ab, T, aj, I, C, V, at, ai, S, K, ae, ar, aa, ao, k`.'!ad`.($d, O, A, Q, G, E, w;var v = (`.v&) {` $%a() {}a.SInit` 6-`/f(xOffset`$;!` ,(yO` \"2z` 93indexXYZI` )-width` %-heigh` U.dep` :/matrix = [1, 0, 0, 0, 1, ` \"&]`)[\"`)a*var M = []`&a\"aq`&b\"aq < 2500` &\"`&g#M[aq]`*,#v;}i` S\"h` Z\"`\"2\"C` [!`.v\"o`+e&r` >\"ao` \"\"k` ;!`39!` ;!V`\"+\"a` ?#` I!0, 4294967295` '!1624959, 4288282623` '!4940287` '!1597951, 427825561` V\"495423` W!9161190` V\"826956` V\"492723` W!815848`!2\"782425`!2\"9494118` W!9159884` V\"825651` V\"491417` W!815718`!2\"782295`!2\"9492812` W!9158579` V\"824345` V\"490111`\"J\"15587`!2\"782164`!2\"9491507` W!9157273` V\"823039` V\"488806`\"J\"15457`!2\"782033`!2\"949020`#%#155967`#`$1734`#a#87500`#`$326`!2\"781903`!2\"`$J\"44`$F&08`$G%572`$F&36`$F&0`%'!`$K!56` V\"495418` W!`$K!85` V\"`$K!1` V\"492718` W!`$J\"`!2\"`$J\"`!2\"`$J\"3` W!`$K!79` V\"825646` V\"`$K!2` W!`$K!7`!2\"`$K!4`!2\"`$K!07` W!`$J\"4` V\"`$K!0` V\"490106`\"J\"`$K!`!2\"`$K!3`!2\"`$J\"2`'V\"157268` V\"`$K!4` V\"`$K!1`\"J\"15456`!2\"`$J\"`!2\"949019`#%#`$K!2`#`$1729`#a#87495`#`$326`!2\"`$K!2`!2\"`$K!19`'I#62485`'H$8252`'H$4018`'H$9784`'H$5551`'H$5413`'I#61180`'H$6946`'H$2712`'H$847`!2\"`$K!4`!2\"`$K!08`'H$9874`'H$5640`'I#91407`'H$717`!2\"`$J\"`!2\"`$J\"2`'H$8568`'H$4335`+0$0101`'H$586`!2\"`$J\"`!2\"9491496`+1#57263`+0$3029`+1#88796`+0$456`!2\"`$K!2`!2\"`$J\"`#%#155957`#`$1724`#a#87490`#`$325`!2\"`$J\"`!2\"`$J\"4`'I#62480`'H$8247`'H$4013`'H$9779`'H$5546`'H$5408`'I#61175`'H$6941`'H$2707`'H$847`!2\"`$J\"`!2\"`$J\"3`'H$9869`'H$5635`'I#91402`'H$716`!2\"`$K!3`!2\"9492797`'H$8563`'H$4330`+0$0096`'H$586`!2\"`$K!2`!2\"`$J\"1`+1#57258`+0$3024`+1#88791`+0$455`!2\"`$J\"`!2\"`$K!8`#%#`$K!2`#`$1719`#a#87485`#`$325`!2\"`$K!1`!2\"`$K!0`.=#16247`/U#`$K!`/U#49400`/V\"`$J\"`/V\"`$J\"`0n\"`$J\"`.=#16116`/U#82693`/U#`$K!`/V\"`$K!6`!2\"`$K!3`!2\"949409`/V\"`$J\"`/U#`$K!`/U#49139`/V\"`$J\"`!2\"`$K!2`!2\"`$J\"`3z\"`$K!5`3y#82432`3z\"`$J\"`0n\"`$K!5`!2\"`$J\"`!2\"`$K!8`3z\"`$J\"`3y#82301`3z\"`$K!8`3z\"`$J\"`!2\"`$K!1`!2\"`$J\"`#%#15594`3y#`$K!`3z\"`$J\"`3z\"`$K!4`!2\"`$J\"`!2\"`$J\"`.=#`$K!`/U#82823`/U#`$K!`/V\"`$K!6`/V\"`$K!3`0n\"949539`.=#`$K!`/U#`$K!`/U#49269`/V\"`$J\"`!2\"`$J\"`!2\"`$J\"`/V\"`$K!5`/U#82562`/U#`$K!`/V\"`$K!5`!2\"`$J\"`!2\"`$K!8`3z\"`$J\"`3y#`$K!`3z\"`$K!8`0n\"`$J\"`!2\"`$K!1`!2\"`$J\"`3z\"`$K!4`3y#`$K!`3z\"`$J\"`3z\"`$K!4`!2\"`$J\"`!2\"`$K!7`#%#`$K!`3y#82170`3z\"`$K!7`3z\"`$J\"`!2\"`$K!3`)!'3`/n\"`-b\"`$i'2`+V\"` &\"` Q'1`'>\"` &\"`1V\"` &\"`#&\"` &\"`->\"` '!0`/b\"782510`\"2\"782466`#z\"782379`!b\"782336`#J\"782248`%S%205`\"z\"782118`%#%074`\"J\"781987`$T$1944`&>\"93787`%y#92673`$U#90445`&$$9331`$`$7102`&0$5988`$l$3760`&=#82646`$y#80418`&I#79304`%$$38488`\"b\"927303`1=#04933`*y#93748`-I#7137`'%#860194`,b\"8378248`)J\"26640`(m#04270`0m#9308561];O = function () {var b;try {b = G.getUint8(l, false);} catch (x) {generateErrorMessage(\"problem read byte ( \" + x + \" )...\");}l += 1;return b;};A`!C)y) {if (y === void 0) {y = \"\";}`!T432(l, tru`!\\,` g!.substr(0, \"RGBA\".length)`! !` -\")` l\"-1;} else`\"03y`\")!(`\"@\"int`\"1$b = 0;}`\":\"4`\"4(Q`#\\0aE, z, aD, aB, x, aC, az, ax, aA, ay, aw, y, aG, aF;z = A(\"0\");for (aE`!/! aE < z` #!+= 1) {aG`#)\"aF` \"\"` I\"D` H#D < 2` #!` H#x` s\"1` p%B` C#B < x` #!` C#if` b\"=`$0!aG += String.fromCharCode(O())`#?%aF` ):}}if (z >` p!` ~!G`$3\"_r\"` +#isNaN(Number(aF))`&N5fnReadDict value is not a n` Y!`&o#aF`&j)aC = ` u& >> 0 & 3;az` (-2` 3\"x = 3 - (aC + az);aA` ;-4 & 1 ? -1 : 1;ay` 1-5` 3+w` 1-6` 4*`'x!M[C].matrix[0] = aC`#.!0 ? aA : 0;` 7(1` 8'1` -22` 8'2` -23` >!z` &y` 2-4` 8'`!$!` 1.5` 8'`!$!` 1.6` >!x` &w` 2-7` 8'`!$!` 1.8` 8'`!$!` =\"`*v%av`%l5something went wrong`%q\"v`*Y#lkpChunckData` 6!getFormatted`$Z#C) + \"/` '3M`+}%` m\"transf` @!ion /`+^\") )\");`(>\"`(/%t\"`-M#aF.split(\" \");`(9-y[0]`(17c`!}! offset`(23y[0]`(>)`*/#` y/1` J^1` dD2` J^2` ~*}}`(p&xO` U\"`)B%`#D!`*q!`&=\"y` /.1` 4)z` /.2` 9$`%`~`&+S`#*#`&K+}}}`+o\"G = new DataView(s`3b'am`!s5` i!:: memory alloc`'^\"'d` d#Input'`\"@(`/ $m`$8)l`1U!P = false;m`1u\"2\");p `0o2m & 255);p`1/4m >> 8 ` \"A16` \"B24` @$if (p != \"VOX \") {P = true;`\"y2header`'/!equals 'vox'\",`\"N\"`(-&`\"V#3`*S#m != 150` `>file`+c\" .vox version`!'(150` .ae`#z!T`$ !if (!P) {l = 8;H = l;do` *\"H;Z`!W\"chunkId\");ad`$*3Z`#\"$ad`#;4Z`$5)` );`$9&` *;`$:&K`!f#ontentSize\")`!x&ildBytes ( ` 7'`({4K`(h\"/ `\"T#`'A\"d`'A\"\");H += K + 12`#?!K != 0)`- \"ad == \"nTRN\") {aj`!>\"nTRN node id\");Q(`!U%` 5!`!^!` 5'` 0(reserve` ',layer` H\"S` x(umFrames\");for (aq`%(! aq < S` #!+= 1) {Q(` ;$p` <#p < I` #!` <#`\"-!j == h[ap]) {C` 6!`\"S!C >= `+x&`&t<vox index`#S!ck data overflow`+'#`,a]`-1$`0+%}`18(`$7#MAI`$9!` (/nSHP\") {`#c$SHP`$I+at` /(`1L\"of models ( must be 1`%h!`#r.at`#y(` |(`%6,Q();}M[C - 1].`#7!XYZI = Z`3M)`!s$GR`!n)GR` ]2I` 5'`!v&` E!ren`!_1I`!g(h[aq]` i7`#^0`#O$l`(W!`!j0MATL` $:LAYR`\"5'LAYR`(]2` 5!`(O$`!M#` ].SIZE\") {q` O\"SIZE x`+3#al` *'ys` /\"R` )'z` B#M[j].width = q` )\"height = al` +\"dep` ;!R;j`(X\"`!;/XYZI`+,!i`! \"`%$!`$8\"OfVoxels\");i.push(\"`,-\"i`'o!v` 8! `&62i`$M(au` q'bitfield\");X = au >> 0`.*\";W` )%`/-#;U` )%`.v$;ab = (` /\"`.a% - 1;aa[ae + `%b\"[X, W, U, ab, T];}ae += ai;T`\"W5RGBA\") {o`+M$`\"+.256`\"*0` U!`!8!`+/%255`/L#\" + H` /%G.byteL`+;\"`,o!au != -` k!c`\"M\"`\"F#f`\"b-F`\"`/r`(5#ac << 16 | af << 8 | F;V`\"B*break;`,9&`'t$`,R!`,W!} while (H + 1 <`!f) - 4`,!`4a%if (I ==`1J\"`%=/e`#&(` R!(aa[aq][0] >= 0 && ` (&<= 254` )'1` 5-1` 3/2` 5-2` >$))`\"N%`%)(q`!p!ae -`!U!I `#\"!}}}`+m;c = M[aq`)>#;g` '%`)@\";n` (%`)A!;J` '%xOffset;N` )%y` +#L` )%z` +#`2u.`#E!`2z*a[ap][4] =` W$`/*%) {X = - (c`%k!) +`\"u!p][0]`))!- (g` +,1]`)2!- (n` +,2];ag = X *`!%#matrix[0] + W` &,1] + U` &,2];f` P03` O14` O15];u` P06` O17` O18]`)7!`!x,== -1 ||`!L-` #26` 2#) {ag -`%|!` f-1` F4`$Q\"` &/7` m&f` ^42` E45` ^48` l&u` o#ao[k`-j!]`.l!J + ag`%W!N + f`%F!L + u;` E!`\"}! X` &#1] = W` &#2] = U` &#3`,*!`%p\"3`#c\"k`*|\" || X < ak) {ak` i!`\"7!` 3)> D) {D` )1W < B) {B`!8!` ,.> ah) {ah` +1U < Y) {Y`!i!` ,.> t) {t` 8\"k`-s#`-'\"k `,|#P`07$generateErrorMessage(\"no transformed`3#$(`0\"!getFormattedN`3d!(k)`0<'(i.l`.A\"`!N!? \"\" : `3u\"i.join(\",\"` L\")` \"\"...\")`,p%`,Q!k * 4 * Uint32Array.BYTES_PER_ELEMENT;try {E = new ` @!Buffer(aq);} catch (am`\"0>read :: memory allocation 'b` n!' went wrong`\"W/M` S!(aq`\"2#`\",#`0y%`!e!w`!c#DataView(E` |fd` m#`!U/am`!>2`02.k`08(X = ao`2+$- ak`(g!ah - B - (` 6#1] - B)`).!` ,#2] - Y;l = aq`$EA`!P!o) {an = (16711680) | 65280 | 255`%Z&n = ar[`!)#3]`)\\\"!r`37!` -$ >= V) {`#72color(s) is/are not present in custom palette ( default` )%` [! is used`#V$r`$Y$}}w.set`\"P\"(l, X,` 4!);` +) + 1`\"]<, W` D42` :>U` D43` :>an` U$}d = {event:\"`*k! data\", id:_globalIdImport, `(M\"V`+2!:E};post`#p$d, [d.` 6(]);}}}}}func`'H!saveData(Q) {var L, P, C, d, F, l, p, s, J, N, ac, O, E, H, G, f, n, m, ai`\"Z!T, S, R, o, Y, b, c, k, I, t`#W!X, A, V, ae, j, M, B, ad, v, ak, ah, aj, u, i, r, D, K, af, h, ab, g, aa, w, q, Z;f`1K\"n`(w!g` '\"af = `\";%(x, z`\"8#a;a = \"VOX \".charCodeAt(0);a |` &01) << 8` '42` :!16` (43` ;!24`-{\"x`%N'z, a`%,$` +) + 4, 150`%I%`,Q$y`(i5 fnHeader`,\"#y`,#!`0N5z`0[(` -/`&@#`-v$SizeInBytes`.N#`,z%`#J!MAIN`#92` )-`#A*` .-`#@+` /-`#47 + 8`#8712, `#I%` ,-6` 2'`\"m~`#5Vreturn 20;};K`'X)z`+>\"y`\"^!`2=!var x;x = \"SIZE`$1,x`#]!` )-`$9$` (3`$8%` )3`$3*z`#]'an, x`#\\$` +*`'k#2` %58`$4'` ,-12`\"R!` &46`%J'` --20, am`%)-al`$8Size`%&#al`$|:an`$Jm4;};D`%*-`%(%, y;y = \"LAYR`%$,y`$P!` )-`%,$` (3`%+%` )3`%+%for (x`.e! x < 7; x += 1) {`%>.m`$?4m`%J\"26` %5`%75m`%I#`&32` 9!6, 1` %520, \"_name\".length` :-8` C#4` @&`#X)` 8/5` 611` 706` 612` 707` 613` 708` 614` ?(`\"Y%9`\"l0` b#33, 48 + x` G/34, -` R%`(H@savedata > fnLayers`(PDm`18fm += 38`(y%(266) + 4;};r`(|)al, aq`.?\"n, ao`).#ar`&M!am, z;z = \"nTR`2a-z`(Y!` )-`)5$` (3`)4%` )3`.C*al`$*(q, z`$($` ++`.C,` -.`(x(` ,.`.H)` ,/`3E(` -.`.R!n` 2*I` 4'`%})` -.8, y == 0 ? -1 :` o832`'E'`&k&p`&OBTransform`&p$p`&Y;q`&/eif (ao == -`-w%`\",/`#](`!dWrootnod`2/%`!F~`\"@$x = 28;} else`\"+9`%C+`'?)`/3!t`/%,` ?&8` A#`/1!t`/\"-` 7.`//!` ;*1)`#&Yn`\"u! of frame`-\"%`\"i~`- '= \"\" + f[ao].xOffset` A!` ,&yO` \"0z` 0\"`+R1 + 46, am`#p+`\"RWset text ` l\"`\"*~`\"|,for (ar = 0; ar <`\"5&` +!+= `)D/`%w#50 +`01!am`%u(ar`%DZ`\"l%`!l~`\"_+`)a!`\"0\"`\"^$ - 12;}`%84`2m!`$bacontentSiz`+<~`\"H-return x`2N!;};i = function (z, am) {var x, y;y = \"nGRP`+S+;y`4X\"` *,1`4Y!8` '42` :!16` (43` ;!24`)P\"z`#y(m`45'` +*`$8\"12 + n * 4` -58`0p'` ,-1`3L(` ,.`1K(` --20, n`%L.l`%E5 fnGroup`%8$l`%!;m`)yjx`*`\"x < n; x`*O)`\"+.4 + x`#S\"2` $#2`!K~`)aa`'g#`!~!`%W!;};h`'e)x, am, al, z`'r#a;a`'q!SH`'e-a`'1\"` *,`'n$` (3`'m%` )3`'h*x`'g+a`#d$` +*`'p\"2`&l%` --`'b(` ,-12`\"N\"` '4`'c(` --20`(@'` ,.4, z` $6`!K(`%u%y`%a8Shap`-b$y`$z~`-[*32;};ab`%g)al, an`%g#y`\"I!x;z = \"RGBA`%d,z`%0!` )-`%l$` (3`%k%` )3`%f*`1b*n`#v'` ++`-e#02`-]%` /.`$-1`02!`$*5Pallette 00`*>$m`$+;n`#ae`(P\" = new `\"#\"Array(_colorRedu`$T!.getBitmapData`!k$()`!tNalloca`%H!view failed `\"M*`.E)y`.L\"y < 255; y`.G)`#r.`2)!y`.O\"x[y]`#XTp`!k$`#4~`.E3(259)`.T#t = -1;aa = {};if (!Q`!o5no voxel data\");` k\";} else {if (Q && !Q.hasOwnProperty(\"content\")` WB pres` K!` |%}V = Q.` b#.byteLength / (3 *`&=(.BYTES_PER_ELEMENT);Z`&]/` f%);ae`%L!if (V <= 0`!H=s`!R/`&6!ai`&6\"ai < V` #!`&5#I = ai * (60 / Math.max(1, V - 1)) >>`!?#` 8!abs(I - t) >= 1 && typeof I === \"n`%A!\") {t = I;post`!b${event:\"progress_saving\", percentage:I / 100});}ak = Z[`!\\!3];ah`%W\"if (ak >> 6 !=`\"t\"` 7!` .$) - 1;W = ah &`(j!X` '\">> 8` +#A` )%16` ,#` `!W | X`.T! | A`.<#`&*$` =!ak == BITFIELD_ENCLOSED_VOXELS ? `'|#VoxelColorShell :` '.;}`']!aa`&p,ah.toString())) {aa[` ')] = 1`!N&` --+` :!U`#6' + 1] & 65535;T` )-`\"b$` :\"S` 2*2` P&if (isNaN(U) || ` &\"T)` \"&S`([6save`(k\"invalid posi`-c!...`+p#U + \",` &!T ` \"%S`+Z:ai`+[!/` (3V`+u% \");}ae`\"{#b`* !width + 1;c` +!dep` )#k` +!height` ,!if (b`)L!`\"G&b`\"X!c` '+c` 1!k` '+k`\"c6 dimension`\"v$`\"j&b + \"x\" + c ` \"$k`.l;`\"IE`\"o!`-j/b > 2048`\"8\"` \"&k` %#`!(~`!MY`(x!Q.meshId`+&!`):#Id ||` %$Maximum` f\"Of`)S!s !` D%` +1Prev) {` f&= `!!$;` 8< ` ]:;_colorReduction.nullify()` )-process` S!(aa,` [9` M.set` 51`4\\$` O4` 8\"` /$PalletteEntries = ` x,get` =$().l`3 !;}M =`1+\"floor(b / MAX_OBJECT_SIZE) + 1`1;\"B` ?*c` 09ad` @*k` 19`27! < 1`)Z&M`)u!B` '*B` 0!ad` (*ad`)v6e`\"k#`-#$`'Z\"M`,i&B`,t&ad`'>\"`'4'R`!~$ceil`\"z\"`4(#o` -)c / B` 3#Y` -)k / ad`4Y'R <`, (R`\".!o` '*o` 0!Y` '*Y`\",6box`\"3-R`*1%o`)p%Y`\"0-E = M * R - b`1;!;H = B * o - c` -\"G = ad * Y - k` .\"if (E`!T*E`!r!H` '*H` 0!G` '*G`!r6offset`!~,E`\"%%H`\"%%G`!}-u`\"'#B * ad;v = ae * 2 * Uint32Array.BYTES_PER_ELEMENT;v += u * 4` %B(u + 1) * 150` -B150` #C20` \"D5000` )@L = false;try {w = new ` J!Buffer(v);} catch (ag) {L = true;`$22write :: memory allocation 'b` n!' went wrong`0f/M` S!(v`0S#...\");`0K!!L) {`!d!q`!b#DataView(w` {gd` n#`!U/ag`!?2`.Q#`!G$SizeInByt`.O!q.byteL`.6\"C = af(q, 0);V`1W!content` ;' / (3`$=<);for (ai = 0; !L && ai < u; ai`&6!) {g[ai] = [];}` 94V` E(U =`(r!(Z[ai * 3 + 1] & 65535);T =`)(!(c - 1 -` <)2` ?&);S =`)H!` [+>> 16` f&if (U`*_$U >= b`*4!* 2`*o&U`+)!T` ?$T >= c`*Q!` :)T` B!S` ?$S >= k`*n!` :)S`+M6posi`%B!`+Z*U`0%&T`00&S`%I!/ ` (!b` .&c` 9&k`,$%`&i%} else {s = U / R`/\"J = T / o` )\"N = S / Y`09&s`\"0$s >= M`\"&&s`\"R!J` 7$J >= B` 5&J` :!N` 7$N >`/2!` 7%N)) {m = \"indic`0B-s`\"%&J`\"0&N`\"Q(`\"]?`3>;`)S2m`#%/ac = s;ac += J * M` %#N *`/a\"`,h\"g[ac].push(ai`*p,`\"J!`,*\" overflow`*=$`$Z!`0f!g.l`)K\"` )$u`\"+#`\"n%` 1!`\"q!` %!`\"m$`\"H%` 1!`\"K!` %!`\"#HU -= s * R;T -`\"E\"o;S -`\"D\"Y;`(i*= (T`(m% << 16 | U` +$` B(2]`&8!` 2$if (`({(`(`(`(0=`%c$transformed `(]$...`(=?`(/*}}}I`,<!`,G\"c`,@)c`,w#`%*!1) {F = ac % M;l =` K!/ M`(N!) % B;p` ;\"/ (`%U!)`(h\"I = 60`%&\"* (39 / Math.max(1, u - 1)` F#if (` 8!abs(I - t) >= 1 && typeof I === \"number\") {t = I;post`#!${event:\"progress_saving\", percentage:I / 100});}P`42%j`\"^!V = `'L\"`&m\"`/p*`/5.O` H$[ai];ak = Z[O * 3];ah = -1`\"5!P`!v!`!%!) {P`$ $C += K(q, C, R, o, Y);d = C`(x\"q.set`1[\"(C, 1230657880,` \\!);` 4) + 4, ` #58,` \"612` 2'`)w*`&\\2 chunkI`,V$`4M#` '\"getFormattedN`$I!(C)`)i'` -/_globalDataViewSizeInBytes` S\") )...\");}`#/!16;}U`#c&`30)`37!` ,)`2_)`3,!` 5&`3B&`#c+8(C, U`\"-8`#)\", T` $32, S`\"|I`2d%data`\"M~`#@+aj = `&\"ak >> 6 !== 0) {`'<!` .$) - 1`04&h = ak == BITFIELD_ENCLOSED_VOXELS ? `!?#VoxelColorShell :` '.;}W = ah & 255;X` '\">> 8` +#A` )%`$e!255;`!t\" + _colorReduc`-K!get` (!ed` w!(W, X, A)`$o. + 3, aj`'KJolor index`#L~`$F$ `$H#j`'y!`+3\"4;}`+W!) {`*|-d`*f\"j * 4` %\"`*F.d`*Q#`\"1JsubObject`\"6Cd`&Bef[n] = {};f[n].xOffset = - ((M`0h! * R`%`!) + F * R` F\"y` ?)B` D$o` C%l * o` F\"z` ?)ad` E$Y` D%p * Y`(N!SHOW_INFO) {console.log(\" o` _\"horizontal:`\"\\!`!n();` >1vertical  ` H'`!z#` <3depth   ` F)`\"!#);}n`%o\"}`1e! = []`. #ab`17!)`&*\"r`1B#0, 1, -1` 0#i` =#`2Y.n`2_(` V)2 + ai * 2,`.A!` $$ai` n#h` B#` -,`!R\"D`!,#`'F-16, C - 2`'H%`'&*L`3R$`''2write :: slicing 'd`&P#' went wrong`'K*`' 5`!B\"`&~#\");return`)N\"!L`)M$w = w.slice(0`!w\"4`!5]buffer`!=S`!`/}}}remove`*4\"(Q);post`!:${event:\"progress_saving\", percentage:1})`(.!!L && w.byteLength !`0j\"` _0save\", n`!Z!OfPalletteEntries:`*v#`!x\"` .-, `\"c\":w}, [w])`1W%`#{%`#<2no`3g\"found`+W#}}onm` ;\" = fun`0h! (b) {var c, a;c = b.data;a = c && c.hasOwnProperty(\"`\"7!\") ? c.` '! : undefined;swi`%5\") {case \"read\"`\"D$IdImport = c.id;read(c.text);break;` P\"save`\"\"!` R%`3F&` X!v`3U&`3s3` 8*` /!` C$Maximum`#r$` <!s` L!m` &0`%5\"(`\"j#` o!Data`\"z\"` &%.content` 7+` /$`%i')`$C5invalid ` Y!`\"[!`$Z#`%4#saveData(` v');}`#4\"default:;}};init();"))